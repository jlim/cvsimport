<head>
<!-- Generated by perlmod2www.pl -->
<title>
tf documentation.
</title>
</head>
<body bgcolor="white">
<HR><H4>regdb</H4>
<H3>tf</H3>
<A NAME="TOP"></A>
<TABLE BORDER="1" WIDTH="100%"><TR>
<TD><A HREF="#vardefs">Package variables</A></TD>
<TD><A HREF="#General">General documentation</A></TD>
<TD><A HREF="#Methods">Methods</A></TD>
</TR></TABLE><HR>
<A NAME="vardefs"></A>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0"><TR BGCOLOR="#ffae84"><TD><B>Package variables</B></TD>
<TD ALIGN="RIGHT"><A HREF="#TOP">top</A></TD></TR></TABLE><TABLE BORDER="0" WIDTH="100%"><TR><TD COLSPAN="2">No package variables defined.</TD></TR>
</TABLE>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0"><TR BGCOLOR="#ffae84"><TD WIDTH="150"><B>Included modules</B></TD><TD ALIGN="RIGHT"><A HREF="#TOP">top</A></TD></TR></TABLE><TABLE BORDER="0"><TR><TD COLSPAN="2"><b><font color="#0000ff">Carp</font></b></TD></TR>
<TR><TD COLSPAN="2"><b><font color="#0000ff">Data::Dumper</font></b> </TD></TR>
<TR><TD COLSPAN="2"><b><font color="#0000ff"><a href="transcript.html">regdb::transcript</a></font></b> </TD></TR>
</TABLE>
<A NAME="SYNOPSIS"></A>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0"><TR BGCOLOR="#ffae84"><TD><B>Synopsis</B></TD><TD ALIGN="RIGHT"><A HREF="#TOP">top</A></TD></TR></TABLE><TABLE BORDER="0"><TR><TD COLSPAN="2"><FONT COLOR="RED">No synopsis!</FONT></TD></TR></TABLE>
<A NAME="DESCRIPTION"></A>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0"><TR BGCOLOR="#ffae84"><TD><B>Description</B></TD><TD ALIGN="RIGHT"><A HREF="#TOP">top</A></TD></TR></TABLE><TABLE BORDER="0"><TR><TD COLSPAN="2"><FONT COLOR="RED">No description!</FONT></TD></TR></TABLE>
<A NAME="Methods"></A>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0"><TR BGCOLOR="#ffae84"><TD><B>Methods</B></TD><TD ALIGN="RIGHT"><A HREF="#TOP">top</A></TD></TR></TABLE>
<TABLE BORDER="1" CELLSPACING="5"><TR><TD><B>get_complex_by_name</B></TD><TD><FONT COLOR="RED"><B>No description</B></FONT></TD><TD><A HREF="#CODE1">Code</A></TD></TR>
<TR><TD><B>get_complex_id_by_name</B></TD><TD><A HREF="#POD1">Description</A></TD><TD><A HREF="#CODE2">Code</A></TD></TR>
<TR><TD><B>get_subunit_by_complex</B></TD><TD><A HREF="#POD2">Description</A></TD><TD><A HREF="#CODE3">Code</A></TD></TR>
<TR><TD><B>store_TF_complex</B></TD><TD><A HREF="#POD3">Description</A></TD><TD><A HREF="#CODE4">Code</A></TD></TR>
<TR><TD><B>store_TF_data</B></TD><TD><A HREF="#POD4">Description</A></TD><TD><A HREF="#CODE5">Code</A></TD></TR>
</TABLE>
<A NAME="MethDesc"></A>
<HR><H2>Methods description</H2>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0" CELLSPACING="0">
<TR BGCOLOR="#4492df"><TD WIDTH="200"><A NAME="_pod_get_complex_id_by_name"></A><A NAME="POD1"></A><B>get_complex_id_by_name</B></TD><TD><A HREF="#CODE2">code</A></TD><TD><A HREF="#TOP">top</A></TD><TD>prev</TD><TD><A HREF="#POD2">next</A></TD></TR></TABLE>
<pre> Usage   : my @ids=$self-&gt;get_complex_id_by_name($complex_name);<BR> Returns : array primary keys from funct_TF, based on the complex name (unique for a project)<BR> Args    : name, project id (optional)<BR> Warnings: if more than one entry matches the name and project id has been supplied<BR> Todo   : Introduce checks<BR></pre>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0" CELLSPACING="0">
<TR BGCOLOR="#4492df"><TD WIDTH="200"><A NAME="_pod_get_subunit_by_complex"></A><A NAME="POD2"></A><B>get_subunit_by_complex</B></TD><TD><A HREF="#CODE3">code</A></TD><TD><A HREF="#TOP">top</A></TD><TD><A HREF="#POD1">prev</A></TD><TD><A HREF="#POD3">next</A></TD></TR></TABLE>
<pre> Usage   : my @tf=$self-&gt;get_subunit_by_complex($funct_TF_id);<BR> Returns : array of hashes that describe a TF complex subunit (accession numbers, family, class and isoform<BR> Args    : the funct_TF_id (you should get first the primary key by name/project) <BR> Warnings: <BR> Todo   : Introduce checks<BR></pre>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0" CELLSPACING="0">
<TR BGCOLOR="#4492df"><TD WIDTH="200"><A NAME="_pod_store_TF_complex"></A><A NAME="POD3"></A><B>store_TF_complex</B></TD><TD><A HREF="#CODE4">code</A></TD><TD><A HREF="#TOP">top</A></TD><TD><A HREF="#POD2">prev</A></TD><TD><A HREF="#POD4">next</A></TD></TR></TABLE>
<pre> Function : Stores all the data describing a whole TF complex<BR> Usage   : <BR> Returns : funct_TF_id<BR> Args    : hash with refs to hashes/arrays. This data structure to be substituted with object later.<BR> Warnings: <BR> Todo   : Introduce checks, explain the data structure<BR></pre>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0" CELLSPACING="0">
<TR BGCOLOR="#4492df"><TD WIDTH="200"><A NAME="_pod_store_TF_data"></A><A NAME="POD4"></A><B>store_TF_data</B></TD><TD><A HREF="#CODE5">code</A></TD><TD><A HREF="#TOP">top</A></TD><TD><A HREF="#POD3">prev</A></TD><TD><A HREF="#POD5">next</A></TD></TR></TABLE>
<pre> Function : Stores data for a single transcription factor<BR> Usage   : <BR> Returns : TF_id<BR> Args    : hash with refs to hashes/arrays. This data structure to be substituted with object later.<BR> Warnings: <BR> Todo   : Introduce checks, explain the data structure<BR></pre>
<A NAME="MethCode"></A>
<HR><H2>Methods code</H2>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0">
<TR BGCOLOR="#dcab68"><TD WIDTH="200"><A NAME="CODE1"></A><B>get_complex_by_name</B></TD><TD>description</TD><TD WIDTH="30"><A HREF="#TOP">top</A></TD><TD WIDTH="30">prev</TD><TD WIDTH="30"><A HREF="#CODE2">next</A></TD></TR></TABLE>
<font color="#0000ff"><b>sub</b></font> <font color="#ff0000"><b>get_complex_by_name</b></font>
 {<pre><font color="#0000ff"><b>my</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>,<font color="#1f32ff">$funct_id</font><font color="#0000ff"><b>)</b></font>=<font color="#1f32ff">@_</font>;
<font color="#0000ff"><b>my</b></font> <font color="#1f32ff">@res</font>;
<font color="#0000ff"><b>my</b></font> <font color="#1f32ff">@ids</font>=<font color="#1f32ff">$self</font>-&gt;<font color="#ff8204">get_complex_id_by_name</font><font color="#0000ff"><b>(</b></font><font color="#1f32ff">$funct_id</font><font color="#0000ff"><b>)</b></font>;
<font color="#0000ff"><b>foreach</b></font> <font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$id</font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">@ids</font><font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font>
    <font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$tf</font>;
    <font color="#0000ff"><b>my</b></font> <font color="#1f32ff">@subunits</font>=<font color="#1f32ff">$self</font>-&gt;<font color="#ff8204">get_subunit_by_complex</font><font color="#0000ff"><b>(</b></font><font color="#1f32ff">$id</font><font color="#0000ff"><b>)</b></font>;
     <font color="#0000ff"><b>my</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$name</font>,<font color="#1f32ff">$mod</font>,<font color="#1f32ff">$refid</font><font color="#0000ff"><b>)</b></font>=<font color="#1f32ff">$self</font>-&gt;<font color="#ff8204">get_data_by_primary_key</font><font color="#0000ff"><b>(</b></font><font color="#007400">'funct_TF'</font>,<font color="#1f32ff">$id</font><font color="#0000ff"><b>)</b></font>;
     <font color="#0000ff"><b>my</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$ref</font><font color="#0000ff"><b>)</b></font>=<font color="#1f32ff">$self</font>-&gt;<font color="#ff8204">get_data_by_primary_key</font><font color="#0000ff"><b>(</b></font><font color="#007400">'ref'</font>,<font color="#1f32ff">$refid</font><font color="#0000ff"><b>)</b></font>;
     <font color="#1f32ff">$tf</font>-&gt;<font color="#0000ff"><b>{</b></font>TF<font color="#0000ff"><b>}</b></font>=\<font color="#1f32ff">@subunits</font>;
     <font color="#1f32ff">$tf</font>-&gt;<font color="#0000ff"><b>{</b></font>name<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$name</font>;
     <font color="#1f32ff">$tf</font>-&gt;<font color="#0000ff"><b>{</b></font>modifications<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$mod</font>;
     <font color="#1f32ff">$tf</font>-&gt;<font color="#0000ff"><b>{</b></font>reference<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$ref</font>;
     <font color="#4169e1"><b>push</b></font> <font color="#1f32ff">@res</font>,<font color="#1f32ff">$tf</font>;
<font color="#0000ff"><b>}</b></font>
<font color="#0000ff"><b>return</b></font> <font color="#1f32ff">@res</font>;</pre>}<BR>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0">
<TR BGCOLOR="#dcab68"><TD WIDTH="200"><A NAME="CODE2"></A><B>get_complex_id_by_name</B></TD><TD><A HREF="#POD1">description</A></TD><TD WIDTH="30"><A HREF="#TOP">top</A></TD><TD WIDTH="30"><A HREF="#CODE1">prev</A></TD><TD WIDTH="30"><A HREF="#CODE3">next</A></TD></TR></TABLE>
<font color="#0000ff"><b>sub</b></font> <font color="#ff0000"><b>get_complex_id_by_name</b></font>
 {<pre><font color="#0000ff"><b>my</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>,<font color="#1f32ff">$name</font>,<font color="#1f32ff">$projid</font><font color="#0000ff"><b>)</b></font>=<font color="#1f32ff">@_</font>;
<font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$tfh</font>;
<font color="#0000ff"><b>unless</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$projid</font><font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font>
 <font color="#1f32ff">$tfh</font>=<font color="#1f32ff">$self</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select funct_TF_id from TF_complex where name='$name'"</font><font color="#0000ff"><b>)</b></font>;
<font color="#0000ff"><b>}</b></font>
<font color="#0000ff"><b>else</b></font> <font color="#0000ff"><b>{</b></font>
    <font color="#1f32ff">$tfh</font>=<font color="#1f32ff">$self</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select funct_TF_id from TF_complex where name='$name' and project_id='$projid'"</font><font color="#0000ff"><b>)</b></font>;
<font color="#0000ff"><b>}</b></font>
<font color="#0000ff"><b>my</b></font> <font color="#1f32ff">@ids</font>;
<font color="#1f32ff">$tfh</font>-&gt;execute||die;
<font color="#0000ff"><b>while</b></font> <font color="#0000ff"><b>(</b></font><font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$tfcid</font>=<font color="#1f32ff">$tfh</font>-&gt;fetchrow_array<font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font>
<font color="#4169e1"><b>push</b></font> <font color="#1f32ff">@ids</font>,<font color="#1f32ff">$tfcid</font>;
<font color="#0000ff"><b>}</b></font>
<font color="#4169e1"><b>warn</b></font> <font color="#007400">"Multiple entries for the same TF complex found within the same project!\n"</font> <font color="#0000ff"><b>if</b></font> <font color="#0000ff"><b>(</b></font><font color="#0000ff"><b>(</b></font><font color="#1f32ff">@ids</font>&gt;1<font color="#0000ff"><b>)</b></font>&amp;&amp;<font color="#0000ff"><b>(</b></font><font color="#1f32ff">$projid</font><font color="#0000ff"><b>)</b></font><font color="#0000ff"><b>)</b></font>;
<font color="#0000ff"><b>return</b></font> <font color="#1f32ff">@ids</font>;</pre>}<BR>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0">
<TR BGCOLOR="#dcab68"><TD WIDTH="200"><A NAME="CODE3"></A><B>get_subunit_by_complex</B></TD><TD><A HREF="#POD2">description</A></TD><TD WIDTH="30"><A HREF="#TOP">top</A></TD><TD WIDTH="30"><A HREF="#CODE2">prev</A></TD><TD WIDTH="30"><A HREF="#CODE4">next</A></TD></TR></TABLE>
<font color="#0000ff"><b>sub</b></font> <font color="#ff0000"><b>get_subunit_by_complex</b></font>
 {<pre><font color="#0000ff"><b>my</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>,<font color="#1f32ff">$funct_id</font><font color="#0000ff"><b>)</b></font>=<font color="#1f32ff">@_</font>;
<font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$tfh</font>=<font color="#1f32ff">$self</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select TF_id from TF_complex where funct_TF_id='$funct_id'"</font><font color="#0000ff"><b>)</b></font>;
<font color="#1f32ff">$tfh</font>-&gt;execute;
<font color="#0000ff"><b>my</b></font> <font color="#1f32ff">@tf</font>;
<font color="#0000ff"><b>while</b></font> <font color="#0000ff"><b>(</b></font><font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$subunit</font>=<font color="#1f32ff">$tfh</font>-&gt;fetcrow_array<font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font>
    <font color="#0000ff"><b>my</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">%tf</font>,<font color="#1f32ff">$tid</font><font color="#0000ff"><b>)</b></font>;
    <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$tid</font>,<font color="#1f32ff">$tf</font><font color="#0000ff"><b>{</b></font>class<font color="#0000ff"><b>}</b></font>,<font color="#1f32ff">$tf</font><font color="#0000ff"><b>{</b></font>family<font color="#0000ff"><b>}</b></font><font color="#0000ff"><b>)</b></font>=<font color="#1f32ff">$self</font>-&gt;<font color="#ff8204">get_data_by_primary_key</font><font color="#0000ff"><b>(</b></font><font color="#007400">'TF'</font>,<font color="#1f32ff">$subunit</font><font color="#0000ff"><b>)</b></font>;
    <font color="#0000ff"><b>my</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$gsrc</font>,<font color="#1f32ff">$dbsrc</font>,<font color="#1f32ff">$accn</font>,<font color="#1f32ff">$isoform</font><font color="#0000ff"><b>)</b></font>=<font color="#1f32ff">$self</font>-&gt;<font color="#ff8204">get_data_by_primary_key</font><font color="#0000ff"><b>(</b></font><font color="#007400">'transcript'</font>,<font color="#1f32ff">$tid</font><font color="#0000ff"><b>)</b></font>;
    <font color="#0000ff"><b>my</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$dbgsrc</font>,<font color="#1f32ff">$gene</font>,<font color="#1f32ff">$desc</font><font color="#0000ff"><b>)</b></font>=<font color="#1f32ff">$self</font>-&gt;<font color="#ff8204">get_data_by_primary_key</font><font color="#0000ff"><b>(</b></font><font color="#007400">'gene_src'</font>,<font color="#1f32ff">$gsrc</font><font color="#0000ff"><b>)</b></font>;
    <font color="#1f32ff">$tf</font><font color="#0000ff"><b>{</b></font>gene<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$gene</font>;
    <font color="#1f32ff">$tf</font><font color="#0000ff"><b>{</b></font>isoform<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$isoform</font>;
    <font color="#1f32ff">$tf</font><font color="#0000ff"><b>{</b></font>transcript<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$accn</font>;
    <font color="#4169e1"><b>push</b></font> <font color="#1f32ff">@tf</font>,\<font color="#1f32ff">%tf</font>;
<font color="#0000ff"><b>}</b></font>
<font color="#0000ff"><b>return</b></font> <font color="#1f32ff">@tf</font>;</pre>}<BR>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0">
<TR BGCOLOR="#dcab68"><TD WIDTH="200"><A NAME="CODE4"></A><B>store_TF_complex</B></TD><TD><A HREF="#POD3">description</A></TD><TD WIDTH="30"><A HREF="#TOP">top</A></TD><TD WIDTH="30"><A HREF="#CODE3">prev</A></TD><TD WIDTH="30"><A HREF="#CODE5">next</A></TD></TR></TABLE>
<font color="#0000ff"><b>sub</b></font> <font color="#ff0000"><b>store_TF_complex</b></font>
 {<pre><font color="#0000ff"><b>my</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>,<font color="#1f32ff">$obj</font><font color="#0000ff"><b>)</b></font>=<font color="#1f32ff">@_</font>;
<font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$pmed</font>;
<font color="#0000ff"><b>if</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$obj</font>-&gt;<font color="#0000ff"><b>{</b></font>function<font color="#0000ff"><b>}</b></font>-&gt;<font color="#0000ff"><b>{</b></font>pubmed<font color="#0000ff"><b>}</b></font><font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font>
    <font color="#1f32ff">$pmed</font>=<font color="#1f32ff">$self</font>-&gt;<font color="#ff8204">table_insert</font><font color="#0000ff"><b>(</b></font><font color="#007400">'ref'</font>,<font color="#1f32ff">$obj</font>-&gt;<font color="#0000ff"><b>{</b></font>function<font color="#0000ff"><b>}</b></font>-&gt;<font color="#0000ff"><b>{</b></font>pubmed<font color="#0000ff"><b>}</b></font><font color="#0000ff"><b>)</b></font>;
<font color="#0000ff"><b>}</b></font>
<font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$functid</font>=<font color="#1f32ff">$self</font>-&gt;<font color="#ff8204">table_insert</font><font color="#0000ff"><b>(</b></font><font color="#007400">'funct_TF'</font>,<font color="#1f32ff">$obj</font>-&gt;<font color="#0000ff"><b>{</b></font>function<font color="#0000ff"><b>}</b></font>-&gt;<font color="#0000ff"><b>{</b></font>name<font color="#0000ff"><b>}</b></font>,<font color="#1f32ff">$pmed</font><font color="#0000ff"><b>)</b></font>;
<font color="#0000ff"><b>foreach</b></font> <font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$tf</font> <font color="#0000ff"><b>(</b></font>@<font color="#0000ff"><b>{</b></font><font color="#1f32ff">$obj</font>-&gt;<font color="#0000ff"><b>{</b></font>TF<font color="#0000ff"><b>}</b></font><font color="#0000ff"><b>}</b></font><font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font>
    <font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$tfid</font>=<font color="#1f32ff">$self</font>-&gt;<font color="#ff8204">store_TF_data</font><font color="#0000ff"><b>(</b></font><font color="#1f32ff">$tf</font><font color="#0000ff"><b>)</b></font>;
    <font color="#4169e1"><b>push</b></font> <font color="#1f32ff">@complid</font>,<font color="#1f32ff">$self</font>-&gt;<font color="#ff8204">table_insert</font><font color="#0000ff"><b>(</b></font><font color="#007400">'TF_complex'</font>,<font color="#1f32ff">$tfid</font>,<font color="#1f32ff">$functid</font>,<font color="#1f32ff">$obj</font>-&gt;<font color="#0000ff"><b>{</b></font>function<font color="#0000ff"><b>}</b></font>-&gt;<font color="#0000ff"><b>{</b></font>modifications<font color="#0000ff"><b>}</b></font><font color="#0000ff"><b>)</b></font>;
<font color="#0000ff"><b>}</b></font>
<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>funct_TF<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$functid</font>;
<font color="#0000ff"><b>return</b></font> <font color="#1f32ff">$functid</font>;</pre>}<BR>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0">
<TR BGCOLOR="#dcab68"><TD WIDTH="200"><A NAME="CODE5"></A><B>store_TF_data</B></TD><TD><A HREF="#POD4">description</A></TD><TD WIDTH="30"><A HREF="#TOP">top</A></TD><TD WIDTH="30"><A HREF="#CODE4">prev</A></TD><TD WIDTH="30">next</TD></TR></TABLE>
<font color="#0000ff"><b>sub</b></font> <font color="#ff0000"><b>store_TF_data</b></font>
 {<pre><font color="#0000ff"><b>my</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>,<font color="#1f32ff">$data</font><font color="#0000ff"><b>)</b></font>=<font color="#1f32ff">@_</font>;
<font color="#0000ff"><b>my</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$gene</font>,<font color="#1f32ff">$transcr</font>, <font color="#1f32ff">$genedb</font>,<font color="#1f32ff">$tdb</font><font color="#0000ff"><b>)</b></font>;
<font color="#ff0000">##We need to have both transcript and gene ids and DB in order to properly store the TF data, maybe this should be done during WI process,</font><BR><font color="#ff0000">##so any checks will be done on time</font><BR><font color="#ff0000">##print &quot;Store:&quot;,Dumper($data);</font><BR><font color="#0000ff"><b>if</b></font> <font color="#0000ff"><b>(</b></font><font color="#4169e1"><b>grep</b></font><font color="#0000ff"><b>(</b></font><font color="#006400"><b>/</b></font><font color="#1f32ff">$data</font><font color="#006400"><b>-&gt;{TFDB}/</b></font>,<font color="#1f32ff">@regdb</font>::gene<font color="#0000ff"><b>)</b></font><font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font>
    <font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$add</font>;
    <font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$id</font>=<font color="#1f32ff">$data</font>-&gt;<font color="#0000ff"><b>{</b></font>TF<font color="#0000ff"><b>}</b></font>;
    <font color="#1f32ff">$gene</font>=<font color="#1f32ff">$id</font>;
    <font color="#1f32ff">$genedb</font>=<font color="#1f32ff">$data</font>-&gt;<font color="#0000ff"><b>{</b></font>TFDB<font color="#0000ff"><b>}</b></font>;
    <font color="#0000ff"><b>unless</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$data</font>-&gt;<font color="#0000ff"><b>{</b></font>TFDB<font color="#0000ff"><b>}</b></font> <font color="#0000ff"><b>eq</b></font> <font color="#007400">'locuslink'</font><font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font>
        <font color="#1f32ff">$add</font>= <font color="#1f32ff">$data</font>-&gt;<font color="#0000ff"><b>{</b></font>TFDB<font color="#0000ff"><b>}</b></font>. <font color="#007400">"_to_llid"</font>;
        <font color="#1f32ff">$id</font>=<font color="#1f32ff">$self</font>-&gt;talkto-&gt;<font color="#1f32ff">$add</font><font color="#0000ff"><b>(</b></font><font color="#1f32ff">$id</font><font color="#0000ff"><b>)</b></font>;
    <font color="#0000ff"><b>}</b></font>
    <font color="#0000ff"><b>my</b></font> <font color="#1f32ff">@trids</font>=<font color="#1f32ff">$self</font>-&gt;<font color="#ff8204">talkto</font><font color="#0000ff"><b>(</b></font><font color="#1f32ff">$id</font><font color="#0000ff"><b>)</b></font>;
    <font color="#0000ff"><b>if</b></font> <font color="#0000ff"><b>(</b></font>$@<font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font><font color="#4169e1"><b>warn</b></font> <font color="#007400">"GENE conversion failed at tf module:"</font>,  $@;<font color="#0000ff"><b>}</b></font>
    <font color="#1f32ff">$tdb</font>=<font color="#007400">'nm'</font>;
    <font color="#ff0000">##print &quot;GENE:&quot;,Dumper($self-&gt;{talkdb});</font><BR>    <font color="#1f32ff">$transcr</font>=<font color="#4169e1"><b>shift</b></font> <font color="#1f32ff">@trids</font>;<font color="#ff0000">##This is not quite right- isoform not taken into account, we should fix this in the web interface first</font><BR><font color="#0000ff"><b>}</b></font>
<font color="#0000ff"><b>else</b></font> <font color="#0000ff"><b>{</b></font><font color="#ff0000">##We have a transcript id</font><BR>    <font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$add</font>;
    <font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$id</font>=<font color="#1f32ff">$data</font>-&gt;<font color="#0000ff"><b>{</b></font>TF<font color="#0000ff"><b>}</b></font>;
    <font color="#1f32ff">$tdb</font>=<font color="#1f32ff">$data</font>-&gt;<font color="#0000ff"><b>{</b></font>TFDB<font color="#0000ff"><b>}</b></font>;
    <font color="#1f32ff">$transcr</font>=<font color="#1f32ff">$id</font>;
    <font color="#1f32ff">$add</font>= <font color="#1f32ff">$data</font>-&gt;<font color="#0000ff"><b>{</b></font>TFDB<font color="#0000ff"><b>}</b></font>. <font color="#007400">"_to_llid"</font>;
    <font color="#1f32ff">$gene</font>=<font color="#1f32ff">$self</font>-&gt;talkto-&gt;<font color="#1f32ff">$add</font><font color="#0000ff"><b>(</b></font><font color="#1f32ff">$id</font><font color="#0000ff"><b>)</b></font>;
    <font color="#0000ff"><b>unless</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$gene</font><font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font><font color="#0000ff"><b>}</b></font><font color="#ff0000">##Failed to find the gene</font><BR>    <font color="#0000ff"><b>if</b></font> <font color="#0000ff"><b>(</b></font>$@<font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font><font color="#4169e1"><b>warn</b></font> <font color="#007400">"TRANCRIPT conversion failed at tf module:"</font>, $@;<font color="#0000ff"><b>}</b></font>
    <font color="#ff0000">##print Dumper($self);</font><BR>    <font color="#1f32ff">$genedb</font>=<font color="#007400">'locuslink'</font>;
    <font color="#ff0000">##print &quot;TRANSCRIPT:&quot;,Dumper($self-&gt;{talkdb});</font><BR><font color="#0000ff"><b>}</b></font>
<font color="#ff0000">##Now we should have it all....</font><BR>    <font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$geneid</font>=<font color="#1f32ff">$self</font>-&gt;<font color="#ff8204">store_gene_data</font><font color="#0000ff"><b>(</b></font><font color="#1f32ff">$genedb</font>,<font color="#1f32ff">$genedb</font>,<font color="#1f32ff">$gene</font>,<font color="#1f32ff">$gene</font>,0<font color="#0000ff"><b>)</b></font>;
    <font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$transcrid</font>=<font color="#1f32ff">$self</font>-&gt;<font color="#ff8204">store_transcript_data</font><font color="#0000ff"><b>(</b></font><font color="#1f32ff">$tdb</font>,<font color="#1f32ff">$tdb</font>,<font color="#1f32ff">$transcr</font>,<font color="#1f32ff">$geneid</font>,<font color="#007400">''</font>,<font color="#007400">''</font><font color="#0000ff"><b>)</b></font>;<font color="#ff0000">##DB, DB subset, accn,geneid, isoform, comment</font><BR>    <font color="#0000ff"><b>return</b></font> <font color="#1f32ff">$self</font>-&gt;<font color="#ff8204">table_insert</font><font color="#0000ff"><b>(</b></font><font color="#007400">'TF'</font>,<font color="#1f32ff">$transcrid</font>,<font color="#1f32ff">$data</font>-&gt;<font color="#0000ff"><b>{</b></font>class<font color="#0000ff"><b>}</b></font>,<font color="#1f32ff">$data</font>-&gt;<font color="#0000ff"><b>{</b></font>family<font color="#0000ff"><b>}</b></font><font color="#0000ff"><b>)</b></font>;</pre>}<BR>
<A NAME="General"></A>
<HR><H2>General documentation</H2>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0">
<TR BGCOLOR="#4492df"><TD><A NAME="_pod_Synopsis"><B>Synopsis</A></B></TD>
<TD><A HREF="#TOP">top</A></TD></TR><TR><TD COLSPAN="2"><pre>Methods to load and store transcription factor data<BR>Uses Bioperl (install bioperl-live)<BR></pre>
</TD></TR>
</TABLE>
</body>
</html>
