<head>
<!-- Generated by perlmod2www.pl -->
<title>
IO documentation.
</title>
</head>
<body bgcolor="white">
<HR><H4>regdb</H4>
<H3>IO</H3>
<A NAME="TOP"></A>
<TABLE BORDER="1" WIDTH="100%"><TR>
<TD><A HREF="#SUMMARY">Summary</A></TD>
<TD><A HREF="#vardefs">Package variables</A></TD>
<TD><A HREF="#SYNOPSIS">Synopsis</A></TD>
<TD><A HREF="#General">General documentation</A></TD>
<TD><A HREF="#Methods">Methods</A></TD>
</TR></TABLE><HR>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0"><TR><TD BGCOLOR="#ffae84"><B>Summary</B></TD></TR>
</TABLE>
<TABLE BORDER="0" WIDTH="100%"><TR><TD><pre>IO: module to access the database input/output system (not related to file operations)<BR></pre></TD></TR>
</TABLE>
<A NAME="vardefs"></A>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0"><TR BGCOLOR="#ffae84"><TD><B>Package variables</B></TD>
<TD ALIGN="RIGHT"><A HREF="#TOP">top</A></TD></TR></TABLE><TABLE BORDER="0" WIDTH="100%"><TR BGCOLOR="#ffd39b"><TD COLSPAN="2"><B>Privates (from <FONT COLOR="BLUE">my</FONT> definitions)</B></TD></TR>
<TR><TD COLSPAN="2"><font color="#1f32ff">$ilink</font> = <font color="#1f32ff">$self</font>-&gt;<font color="#ff8204">table_insert</font><font color="#0000ff"><b>(</b></font><font color="#007400">'analysis_i_link'</font>,<font color="#1f32ff">$iarr</font>-&gt;<font color="#0000ff"><b>[</b></font>0<font color="#0000ff"><b>]</b></font>,<font color="#1f32ff">$olink</font><font color="#0000ff"><b>)</b></font></TD></TR>
<TR><TD COLSPAN="2"><font color="#1f32ff">$olink</font> = <font color="#1f32ff">$self</font>-&gt;<font color="#ff8204">table_insert</font><font color="#0000ff"><b>(</b></font><font color="#007400">'analysis_o_link'</font>,<font color="#007400">''</font>,<font color="#1f32ff">$oarr</font>-&gt;<font color="#0000ff"><b>[</b></font>0<font color="#0000ff"><b>]</b></font><font color="#0000ff"><b>)</b></font></TD></TR>
<TR><TD COLSPAN="2"><font color="#1f32ff">$link</font><font color="#0000ff"><b>(</b></font>1<font color="#0000ff"><b>)</b></font> = <font color="#1f32ff">$self</font>-&gt;<font color="#ff8204">table_insert</font><font color="#0000ff"><b>(</b></font><font color="#007400">'analysis_o_link'</font>,<font color="#007400">''</font>,<font color="#1f32ff">$oarr</font>-&gt;<font color="#0000ff"><b>[</b></font>0<font color="#0000ff"><b>]</b></font><font color="#0000ff"><b>)</b></font></TD></TR>
<TR><TD COLSPAN="2"><font color="#1f32ff">$link</font><font color="#0000ff"><b>(</b></font>2<font color="#0000ff"><b>)</b></font> = <font color="#1f32ff">$self</font>-&gt;<font color="#ff8204">table_insert</font><font color="#0000ff"><b>(</b></font><font color="#007400">'analysis_i_link'</font>,<font color="#1f32ff">$iarr</font>-&gt;<font color="#0000ff"><b>[</b></font>0<font color="#0000ff"><b>]</b></font>,<font color="#007400">''</font><font color="#0000ff"><b>)</b></font></TD></TR>
<TR><TD COLSPAN="2"><font color="#1f32ff">$simpleh</font> = <font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>dbh<font color="#0000ff"><b>}</b></font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"update analysis_o_link set analysis_i_link_id=<font color="#1f32ff">$ilink</font> where analysis_o_link_id=<font color="#1f32ff">$olink</font>"</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr</TD></TR>
</TABLE>
<A NAME="SYNOPSIS"></A>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0"><TR BGCOLOR="#ffae84"><TD><B>Synopsis</B></TD><TD ALIGN="RIGHT"><A HREF="#TOP">top</A></TD></TR></TABLE><TABLE BORDER="0"><TR><TD COLSPAN="2"><pre>As each component (regulatory sequence, expression, interaction, TF, etc.) is treated as either<BR>an input or output, the IO system stores and retrieves the relationships between these components.<BR></pre>
<pre></pre>
</TD></TR></TABLE>
<A NAME="DESCRIPTION"></A>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0"><TR BGCOLOR="#ffae84"><TD><B>Description</B></TD><TD ALIGN="RIGHT"><A HREF="#TOP">top</A></TD></TR></TABLE><TABLE BORDER="0"><TR><TD COLSPAN="2"><FONT COLOR="RED">No description!</FONT></TD></TR></TABLE>
<A NAME="Methods"></A>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0"><TR BGCOLOR="#ffae84"><TD><B>Methods</B></TD><TD ALIGN="RIGHT"><A HREF="#TOP">top</A></TD></TR></TABLE>
<TABLE BORDER="1" CELLSPACING="5"><TR><TD><B>get_IO_type</B></TD><TD><FONT COLOR="RED"><B>No description</B></FONT></TD><TD><A HREF="#CODE1">Code</A></TD></TR>
<TR><TD><B>get_IO_type_id</B></TD><TD><A HREF="#POD1">Description</A></TD><TD><A HREF="#CODE2">Code</A></TD></TR>
<TR><TD><B>get_iolinks_for_input</B></TD><TD><A HREF="#POD2">Description</A></TD><TD><A HREF="#CODE3">Code</A></TD></TR>
<TR><TD><B>join_IO_mm</B></TD><TD><A HREF="#POD3">Description</A></TD><TD><A HREF="#CODE4">Code</A></TD></TR>
<TR><TD><B>store_IO_type</B></TD><TD><FONT COLOR="RED"><B>No description</B></FONT></TD><TD><A HREF="#CODE5">Code</A></TD></TR>
</TABLE>
<A NAME="MethDesc"></A>
<HR><H2>Methods description</H2>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0" CELLSPACING="0">
<TR BGCOLOR="#4492df"><TD WIDTH="200"><A NAME="_pod_get_IO_type_id"></A><A NAME="POD1"></A><B>get_IO_type_id</B></TD><TD><A HREF="#CODE2">code</A></TD><TD><A HREF="#TOP">top</A></TD><TD>prev</TD><TD><A HREF="#POD2">next</A></TD></TR></TABLE>
<pre> Title   : get_IO_type_id<BR> Usage   : <BR> Function: Gets the IO_type_id for a given input or output<BR> Returns : IO_type_id<BR> Args    : relevant table primary key, table name<BR> Notes   : <BR> To do   :<BR></pre>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0" CELLSPACING="0">
<TR BGCOLOR="#4492df"><TD WIDTH="200"><A NAME="_pod_get_iolinks_for_input"></A><A NAME="POD2"></A><B>get_iolinks_for_input</B></TD><TD><A HREF="#CODE3">code</A></TD><TD><A HREF="#TOP">top</A></TD><TD><A HREF="#POD1">prev</A></TD><TD><A HREF="#POD3">next</A></TD></TR></TABLE>
<pre> Title   : get_iolinks_for_input<BR> Usage   : <BR> Function: Gets ilink/olink ids for a given analysis_input_id<BR> Returns : ref to an array of ilinks, followed by a ref to an array of olinks<BR> Args    : analysis_input_id<BR> Notes   : <BR> To do   :<BR></pre>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0" CELLSPACING="0">
<TR BGCOLOR="#4492df"><TD WIDTH="200"><A NAME="_pod_join_IO_mm"></A><A NAME="POD3"></A><B>join_IO_mm</B></TD><TD><A HREF="#CODE4">code</A></TD><TD><A HREF="#TOP">top</A></TD><TD><A HREF="#POD2">prev</A></TD><TD><A HREF="#POD4">next</A></TD></TR></TABLE>
<pre> Title   : join_IO_mm<BR> Usage   : <BR> Function: Links smartly(?) two sets- one of input(s) and one of output(s)<BR> Returns : type of join: 2 is many to one; 3 is one to many; 1 is one to one<BR> Args    : reference to array with input ids, ref to an array with output ids<BR> Notes   : <BR> To do   :<BR></pre>
<A NAME="MethCode"></A>
<HR><H2>Methods code</H2>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0">
<TR BGCOLOR="#dcab68"><TD WIDTH="200"><A NAME="CODE1"></A><B>get_IO_type</B></TD><TD>description</TD><TD WIDTH="30"><A HREF="#TOP">top</A></TD><TD WIDTH="30">prev</TD><TD WIDTH="30"><A HREF="#CODE2">next</A></TD></TR></TABLE>
<font color="#0000ff"><b>sub</b></font> <font color="#ff0000"><b>get_IO_type</b></font>
 {<pre><font color="#0000ff"><b>my</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>,<font color="#1f32ff">$type</font>,<font color="#1f32ff">$id</font><font color="#0000ff"><b>)</b></font>=<font color="#1f32ff">@_</font>;
<font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$table</font>=<font color="#007400">'analysis_'</font>.<font color="#1f32ff">$type</font>;
<font color="#ff0000">##print 'table is ', $table;</font><BR><font color="#0000ff"><b>my</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$id1</font>,<font color="#1f32ff">$id2</font><font color="#0000ff"><b>)</b></font>=<font color="#1f32ff">$self</font>-&gt;<font color="#ff8204">get_data_by_primary_key</font><font color="#0000ff"><b>(</b></font><font color="#1f32ff">$table</font>,<font color="#1f32ff">$id</font><font color="#0000ff"><b>)</b></font>;
<font color="#1f32ff">$ioid</font>=<font color="#0000ff"><b>(</b></font><font color="#1f32ff">$type</font> <font color="#0000ff"><b>eq</b></font> <font color="#007400">'input'</font><font color="#0000ff"><b>)</b></font>?<font color="#1f32ff">$id2</font>:<font color="#1f32ff">$id1</font>;
<font color="#ff0000">##print 'input:',$ioid, &quot;id1 $id1 id2 $id2&quot;;</font><BR><font color="#0000ff"><b>my</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$elid</font>,<font color="#1f32ff">$eltable</font><font color="#0000ff"><b>)</b></font>=<font color="#1f32ff">$self</font>-&gt;<font color="#ff8204">get_data_by_primary_key</font><font color="#0000ff"><b>(</b></font><font color="#007400">'io_type'</font>,<font color="#1f32ff">$ioid</font><font color="#0000ff"><b>)</b></font>;
<font color="#ff0000">##print 'Table', $eltable;</font><BR><font color="#0000ff"><b>return</b></font> <font color="#4169e1"><b>undef</b></font> <font color="#0000ff"><b>unless</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$elid</font><font color="#0000ff"><b>)</b></font>;
<font color="#0000ff"><b>my</b></font> <font color="#1f32ff">@dat</font>=<font color="#1f32ff">$self</font>-&gt;<font color="#ff8204">get_data_by_primary_key</font><font color="#0000ff"><b>(</b></font><font color="#1f32ff">$eltable</font>,<font color="#1f32ff">$elid</font><font color="#0000ff"><b>)</b></font>;
<font color="#4169e1"><b>push</b></font> <font color="#1f32ff">@dat</font>,<font color="#1f32ff">$eltable</font>;
<font color="#0000ff"><b>return</b></font> <font color="#1f32ff">@dat</font>;</pre>}<BR>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0">
<TR BGCOLOR="#dcab68"><TD WIDTH="200"><A NAME="CODE2"></A><B>get_IO_type_id</B></TD><TD><A HREF="#POD1">description</A></TD><TD WIDTH="30"><A HREF="#TOP">top</A></TD><TD WIDTH="30"><A HREF="#CODE1">prev</A></TD><TD WIDTH="30"><A HREF="#CODE3">next</A></TD></TR></TABLE>
<font color="#0000ff"><b>sub</b></font> <font color="#ff0000"><b>get_IO_type_id</b></font>
 {<pre><font color="#ff0000">##Put here check to recognize valid types</font><BR><font color="#0000ff"><b>my</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>,<font color="#1f32ff">$id</font>,<font color="#1f32ff">$type</font><font color="#0000ff"><b>)</b></font>=<font color="#1f32ff">@_</font>;
<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>IO_type_q<font color="#0000ff"><b>}</b></font>-&gt;<font color="#ff8204">execute</font><font color="#0000ff"><b>(</b></font><font color="#1f32ff">$type</font>,<font color="#1f32ff">$id</font><font color="#0000ff"><b>)</b></font>;
<font color="#0000ff"><b>return</b></font> <font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>IO_type_q<font color="#0000ff"><b>}</b></font>-&gt;fetchrow_array;</pre>}<BR>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0">
<TR BGCOLOR="#dcab68"><TD WIDTH="200"><A NAME="CODE3"></A><B>get_iolinks_for_input</B></TD><TD><A HREF="#POD2">description</A></TD><TD WIDTH="30"><A HREF="#TOP">top</A></TD><TD WIDTH="30"><A HREF="#CODE2">prev</A></TD><TD WIDTH="30"><A HREF="#CODE4">next</A></TD></TR></TABLE>
<font color="#0000ff"><b>sub</b></font> <font color="#ff0000"><b>get_iolinks_for_input</b></font>
 {<pre>    <font color="#0000ff"><b>my</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>,<font color="#1f32ff">$input</font><font color="#0000ff"><b>)</b></font>=<font color="#1f32ff">@_</font>;
    <font color="#0000ff"><b>my</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">@ilinks</font>,<font color="#1f32ff">@olinks</font><font color="#0000ff"><b>)</b></font>;
    <font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>current_handle<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$self</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select analysis_i_link_id, analysis_o_link_id 
                                            from analysis_i_link where analysis_input_id=?"</font><font color="#0000ff"><b>)</b></font>;
    <font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>current_handle<font color="#0000ff"><b>}</b></font>-&gt;<font color="#ff8204">execute</font><font color="#0000ff"><b>(</b></font><font color="#1f32ff">$input</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font>;
    <font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$links</font>=<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>current_handle<font color="#0000ff"><b>}</b></font>-&gt;fetchall_arrayref;
    <font color="#0000ff"><b>foreach</b></font> <font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$link</font> <font color="#0000ff"><b>(</b></font>@$links<font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font>
        <font color="#0000ff"><b>my</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$ilink</font>,<font color="#1f32ff">$olink</font><font color="#0000ff"><b>)</b></font>=@$<font color="#4169e1"><b>link</b></font>;
        <font color="#4169e1"><b>push</b></font> <font color="#1f32ff">@ilinks</font>,<font color="#1f32ff">$ilink</font>;
        <font color="#4169e1"><b>push</b></font> <font color="#1f32ff">@olinks</font>,<font color="#1f32ff">$olink</font>;
    <font color="#0000ff"><b>}</b></font>
    <font color="#0000ff"><b>return</b></font>\@ ilinks,\<font color="#1f32ff">@olinks</font>;</pre>}<BR>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0">
<TR BGCOLOR="#dcab68"><TD WIDTH="200"><A NAME="CODE4"></A><B>join_IO_mm</B></TD><TD><A HREF="#POD3">description</A></TD><TD WIDTH="30"><A HREF="#TOP">top</A></TD><TD WIDTH="30"><A HREF="#CODE3">prev</A></TD><TD WIDTH="30"><A HREF="#CODE5">next</A></TD></TR></TABLE>
<font color="#0000ff"><b>sub</b></font> <font color="#ff0000"><b>join_IO_mm</b></font>
 {<pre><font color="#0000ff"><b>my</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>,<font color="#1f32ff">$iarr</font>,<font color="#1f32ff">$oarr</font><font color="#0000ff"><b>)</b></font>=<font color="#1f32ff">@_</font>;
<font color="#ff0000">##if (($#{$iarr}==1)&amp;&amp;($#{$oarr}==1)) {</font><BR><font color="#ff0000">##$self-&gt;store_one_to_one</font><BR><font color="#ff0000">##}</font><BR><font color="#0000ff"><b>if</b></font> <font color="#0000ff"><b>(</b></font><font color="#0000ff"><b>(</b></font>$<font color="#ff0000">##{$iarr}&gt;1)&amp;&amp;($#{$oarr}&gt;0)) {#Tricky, isn't it- many to many</font><BR><font color="#4169e1"><b>die</b></font> <font color="#007400">"Can't do that yet!"</font>;</pre>}<BR>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0">
<TR BGCOLOR="#dcab68"><TD WIDTH="200"><A NAME="CODE5"></A><B>store_IO_type</B></TD><TD>description</TD><TD WIDTH="30"><A HREF="#TOP">top</A></TD><TD WIDTH="30"><A HREF="#CODE4">prev</A></TD><TD WIDTH="30">next</TD></TR></TABLE>
<font color="#0000ff"><b>sub</b></font> <font color="#ff0000"><b>store_IO_type</b></font>
 {<pre>    <font color="#0000ff"><b>my</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>,<font color="#1f32ff">$id</font>,<font color="#1f32ff">$type</font><font color="#0000ff"><b>)</b></font>=<font color="#1f32ff">@_</font>;
    <font color="#0000ff"><b>return</b></font> <font color="#1f32ff">$self</font>-&gt;<font color="#ff8204">table_insert</font><font color="#0000ff"><b>(</b></font><font color="#007400">'io_type'</font>,<font color="#1f32ff">$id</font>,<font color="#1f32ff">$type</font><font color="#0000ff"><b>)</b></font>;</pre>}<BR>
<A NAME="General"></A>
<HR><H2>General documentation</H2>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0">
</TABLE>
<B>No general documentation available.</B><BR>
</body>
</html>
