<head>
<!-- Generated by perlmod2www.pl -->
<title>
regdb documentation.
</title>
</head>
<body bgcolor="white">
<HR><H4>API</H4>
<H3>regdb</H3>
<A NAME="TOP"></A>
<TABLE BORDER="1" WIDTH="100%"><TR>
<TD><A HREF="#SUMMARY">Summary</A></TD>
<TD><A HREF="#libs">Included libraries</A></TD>
<TD><A HREF="#vardefs">Package variables</A></TD>
<TD><A HREF="#SYNOPSIS">Synopsis</A></TD>
<TD><A HREF="#General">General documentation</A></TD>
<TD><A HREF="#Methods">Methods</A></TD>
</TR></TABLE><HR>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0"><TR><TD BGCOLOR="#ffae84"><B>Summary</B></TD></TR>
</TABLE>
<TABLE BORDER="0" WIDTH="100%"><TR><TD><pre>regdb: module to access <B>regdb</B> database<BR></pre></TD></TR>
</TABLE>
<A NAME="vardefs"></A>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0"><TR BGCOLOR="#ffae84"><TD><B>Package variables</B></TD>
<TD ALIGN="RIGHT"><A HREF="#TOP">top</A></TD></TR></TABLE><TABLE BORDER="0" WIDTH="100%"><TR><TD COLSPAN="2">No package variables defined.</TD></TR>
</TABLE>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0"><TR BGCOLOR="#ffae84"><TD WIDTH="150"><B>Included modules</B></TD><TD ALIGN="RIGHT"><A HREF="#TOP">top</A></TD></TR></TABLE><TABLE BORDER="0"><TR><TD COLSPAN="2"><b><font color="#0000ff">DBI</font></b></TD></TR>
<TR><TD COLSPAN="2"><b><font color="#0000ff">lib</font></b> ' /home/sao/lib/perl5/site_perl/5.8.1 ' </TD></TR>
</TABLE>
<A NAME="libs"></A><TABLE BORDER="0" WIDTH="100%" CELLSPACING="0"><TR BGCOLOR="#ffae84"><TD><B>Inherit</B></TD>
<TD ALIGN="RIGHT"><A HREF="#TOP">top</A></TD></TR></TABLE><TABLE BORDER="0"><TR><TD><b><font color="#0000ff"><a href="regdb/IO.html">regdb::IO</a></font></b> <b><font color="#0000ff"><a href="regdb/analysis.html">regdb::analysis</a></font></b> <b><font color="#0000ff"><a href="regdb/expression.html">regdb::expression</a></font></b> <b><font color="#0000ff"><a href="regdb/gene.html">regdb::gene</a></font></b> <b><font color="#0000ff"><a href="regdb/interaction.html">regdb::interaction</a></font></b> <b><font color="#0000ff"><a href="regdb/location.html">regdb::location</a></font></b> <b><font color="#0000ff"><a href="regdb/matrix.html">regdb::matrix</a></font></b> <b><font color="#0000ff"><a href="regdb/method.html">regdb::method</a></font></b> <b><font color="#0000ff"><a href="regdb/talk.html">regdb::talk</a></font></b> <b><font color="#0000ff"><a href="regdb/tf.html">regdb::tf</a></font></b> <b><font color="#0000ff"><a href="regdb/transcript.html">regdb::transcript</a></font></b> </TD></TR>
</TABLE>
<A NAME="SYNOPSIS"></A>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0"><TR BGCOLOR="#ffae84"><TD><B>Synopsis</B></TD><TD ALIGN="RIGHT"><A HREF="#TOP">top</A></TD></TR></TABLE><TABLE BORDER="0"><TR><TD COLSPAN="2"><pre>This is initial <B>regdb</B> API<BR>Connection is achieved through new (returns DB handle)<BR>Connection params are supplied through params (see new description) or environmental variables, first takes precedence<BR>csv definitions:<BR>location:   DB_name,DB_source, species, (band),assembly, begin, end, strand, length<BR></pre>
<pre>Authentication is performed when the <B>regdb</B> class is instantiated through the new constructor method. In simple terms:<BR><BR>my $regdb=new <B>regdb</B>(-drv=&gt;'mysql',-dbname=&gt;'regdb',-user=&gt;'me',<BR>                        -pass=&gt;'somepass', -host=&gt;'somehost', -project=&gt;'someproject');<BR><BR>will create successfully <B>regdb</B> object will full access to the database (only to the mentioned project!!!) if the password and<BR>the username are correct. Also the user should have access to this project. If any of this checks fail the returned object has<BR>only read privilidges (to all unrestricted projects) and a warning is issued.<BR></pre>
<pre>Username for connecting to the database and checking credentials are currently the same. They should be separate.<BR></pre>
</TD></TR></TABLE>
<A NAME="DESCRIPTION"></A>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0"><TR BGCOLOR="#ffae84"><TD><B>Description</B></TD><TD ALIGN="RIGHT"><A HREF="#TOP">top</A></TD></TR></TABLE><TABLE BORDER="0"><TR><TD COLSPAN="2"><FONT COLOR="RED">No description!</FONT></TD></TR></TABLE>
<A NAME="Methods"></A>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0"><TR BGCOLOR="#ffae84"><TD><B>Methods</B></TD><TD ALIGN="RIGHT"><A HREF="#TOP">top</A></TD></TR></TABLE>
<TABLE BORDER="1" CELLSPACING="5"><TR><TD><B>_allowed</B></TD><TD><A HREF="#POD1">Description</A></TD><TD><A HREF="#CODE1">Code</A></TD></TR>
<TR><TD><B>_check_credentials</B></TD><TD><A HREF="#POD2">Description</A></TD><TD><A HREF="#CODE2">Code</A></TD></TR>
<TR><TD><B>_get_projid</B></TD><TD><A HREF="#POD3">Description</A></TD><TD><A HREF="#CODE3">Code</A></TD></TR>
<TR><TD><B>_init_standard_handles</B></TD><TD><A HREF="#POD4">Description</A></TD><TD><A HREF="#CODE4">Code</A></TD></TR>
<TR><TD><B>_initialize</B></TD><TD><A HREF="#POD5">Description</A></TD><TD><A HREF="#CODE5">Code</A></TD></TR>
<TR><TD><B>add_input</B></TD><TD><A HREF="#POD6">Description</A></TD><TD><A HREF="#CODE6">Code</A></TD></TR>
<TR><TD><B>add_output</B></TD><TD><A HREF="#POD7">Description</A></TD><TD><A HREF="#CODE7">Code</A></TD></TR>
<TR><TD><B>concat_array</B></TD><TD><FONT COLOR="RED"><B>No description</B></FONT></TD><TD><A HREF="#CODE8">Code</A></TD></TR>
<TR><TD><B>current_key</B></TD><TD><A HREF="#POD8">Description</A></TD><TD><A HREF="#CODE9">Code</A></TD></TR>
<TR><TD><B>get_all_inputs</B></TD><TD><FONT COLOR="RED"><B>No description</B></FONT></TD><TD><A HREF="#CODE10">Code</A></TD></TR>
<TR><TD><B>get_all_outputs</B></TD><TD><FONT COLOR="RED"><B>No description</B></FONT></TD><TD><A HREF="#CODE11">Code</A></TD></TR>
<TR><TD><B>get_current_id</B></TD><TD><FONT COLOR="RED"><B>No description</B></FONT></TD><TD><A HREF="#CODE12">Code</A></TD></TR>
<TR><TD><B>get_data_by_primary_key</B></TD><TD><A HREF="#POD9">Description</A></TD><TD><A HREF="#CODE13">Code</A></TD></TR>
<TR><TD><B>get_primary_key</B></TD><TD><A HREF="#POD10">Description</A></TD><TD><A HREF="#CODE14">Code</A></TD></TR>
<TR><TD><B>get_projectid</B></TD><TD><FONT COLOR="RED"><B>No description</B></FONT></TD><TD><A HREF="#CODE15">Code</A></TD></TR>
<TR><TD><B>insert_ind_hash</B></TD><TD><FONT COLOR="RED"><B>No description</B></FONT></TD><TD><A HREF="#CODE16">Code</A></TD></TR>
<TR><TD><B>join_project</B></TD><TD><A HREF="#POD11">Description</A></TD><TD><A HREF="#CODE17">Code</A></TD></TR>
<TR><TD><B>my_projects</B></TD><TD><A HREF="#POD12">Description</A></TD><TD><A HREF="#CODE18">Code</A></TD></TR>
<TR><TD><B>new</B></TD><TD><FONT COLOR="RED"><B>No description</B></FONT></TD><TD><A HREF="#CODE19">Code</A></TD></TR>
<TR><TD><B>open_projects</B></TD><TD><A HREF="#POD13">Description</A></TD><TD><A HREF="#CODE20">Code</A></TD></TR>
<TR><TD><B>prepare</B></TD><TD><A HREF="#POD14">Description</A></TD><TD><A HREF="#CODE21">Code</A></TD></TR>
<TR><TD><B>public_projects</B></TD><TD><A HREF="#POD15">Description</A></TD><TD><A HREF="#CODE22">Code</A></TD></TR>
<TR><TD><B>remove_input</B></TD><TD><A HREF="#POD16">Description</A></TD><TD><A HREF="#CODE23">Code</A></TD></TR>
<TR><TD><B>remove_output</B></TD><TD><A HREF="#POD17">Description</A></TD><TD><A HREF="#CODE24">Code</A></TD></TR>
<TR><TD><B>reset_inputs</B></TD><TD><FONT COLOR="RED"><B>No description</B></FONT></TD><TD><A HREF="#CODE25">Code</A></TD></TR>
<TR><TD><B>reset_outputs</B></TD><TD><FONT COLOR="RED"><B>No description</B></FONT></TD><TD><A HREF="#CODE26">Code</A></TD></TR>
<TR><TD><B>table_insert</B></TD><TD><A HREF="#POD18">Description</A></TD><TD><A HREF="#CODE27">Code</A></TD></TR>
<TR><TD><B>table_order</B></TD><TD><A HREF="#POD19">Description</A></TD><TD><A HREF="#CODE28">Code</A></TD></TR>
<TR><TD><B>talk_init</B></TD><TD><A HREF="#POD20">Description</A></TD><TD><A HREF="#CODE29">Code</A></TD></TR>
<TR><TD><B>talkto</B></TD><TD><A HREF="#POD21">Description</A></TD><TD><A HREF="#CODE30">Code</A></TD></TR>
</TABLE>
<A NAME="MethDesc"></A>
<HR><H2>Methods description</H2>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0" CELLSPACING="0">
<TR BGCOLOR="#4492df"><TD WIDTH="200"><A NAME="_pod__allowed"></A><A NAME="POD1"></A><B>_allowed</B></TD><TD><A HREF="#CODE1">code</A></TD><TD><A HREF="#TOP">top</A></TD><TD>prev</TD><TD><A HREF="#POD2">next</A></TD></TR></TABLE>
<pre> Usage   : <BR> Function : Check if the user can join or has joined. In the first case joins the project.<BR> Returns : <BR> Args    : project_id, type<BR> Warnings: <BR> Exceptions : <BR> Todo   : Introduce checks<BR></pre>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0" CELLSPACING="0">
<TR BGCOLOR="#4492df"><TD WIDTH="200"><A NAME="_pod__check_credentials"></A><A NAME="POD2"></A><B>_check_credentials</B></TD><TD><A HREF="#CODE2">code</A></TD><TD><A HREF="#TOP">top</A></TD><TD><A HREF="#POD1">prev</A></TD><TD><A HREF="#POD3">next</A></TD></TR></TABLE>
<pre> Usage   : internal<BR> Returns : <BR> Args    :  <BR> Warnings: <BR> Todo   : Introduce checks<BR></pre>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0" CELLSPACING="0">
<TR BGCOLOR="#4492df"><TD WIDTH="200"><A NAME="_pod__get_projid"></A><A NAME="POD3"></A><B>_get_projid</B></TD><TD><A HREF="#CODE3">code</A></TD><TD><A HREF="#TOP">top</A></TD><TD><A HREF="#POD2">prev</A></TD><TD><A HREF="#POD4">next</A></TD></TR></TABLE>
<pre> Usage   : internal: gets the project id only user is authorized to submit data<BR> Returns : <BR> Args    :  <BR> Warnings: <BR> Todo   : Introduce checks<BR></pre>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0" CELLSPACING="0">
<TR BGCOLOR="#4492df"><TD WIDTH="200"><A NAME="_pod__init_standard_handles"></A><A NAME="POD4"></A><B>_init_standard_handles</B></TD><TD><A HREF="#CODE4">code</A></TD><TD><A HREF="#TOP">top</A></TD><TD><A HREF="#POD3">prev</A></TD><TD><A HREF="#POD5">next</A></TD></TR></TABLE>
<pre> Usage   : internal intialization method<BR> Returns : <BR> Args    : <BR> Warnings: If user has no priviliges to insert data<BR> Todo   : Introduce checks<BR></pre>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0" CELLSPACING="0">
<TR BGCOLOR="#4492df"><TD WIDTH="200"><A NAME="_pod__initialize"></A><A NAME="POD5"></A><B>_initialize</B></TD><TD><A HREF="#CODE5">code</A></TD><TD><A HREF="#TOP">top</A></TD><TD><A HREF="#POD4">prev</A></TD><TD><A HREF="#POD6">next</A></TD></TR></TABLE>
<pre> Function : Internal method. Initializes the database<BR> Usage   : <BR> Returns : <BR> Args    :  <BR> Warnings: warns if the authentication fails<BR> Todo   : Introduce checks<BR></pre>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0" CELLSPACING="0">
<TR BGCOLOR="#4492df"><TD WIDTH="200"><A NAME="_pod_add_input"></A><A NAME="POD6"></A><B>add_input</B></TD><TD><A HREF="#CODE6">code</A></TD><TD><A HREF="#TOP">top</A></TD><TD><A HREF="#POD5">prev</A></TD><TD><A HREF="#POD7">next</A></TD></TR></TABLE>
<pre> Usage   : Adds primary_key and their type in preparation to store the whole analysis<BR> Returns : none<BR> Args    :  type of id (i.e. expression, TF, reg_seq,etc.), followed by the primary_key for this record<BR> Warnings: <BR> Todo   : Introduce checks<BR></pre>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0" CELLSPACING="0">
<TR BGCOLOR="#4492df"><TD WIDTH="200"><A NAME="_pod_add_output"></A><A NAME="POD7"></A><B>add_output</B></TD><TD><A HREF="#CODE7">code</A></TD><TD><A HREF="#TOP">top</A></TD><TD><A HREF="#POD6">prev</A></TD><TD><A HREF="#POD8">next</A></TD></TR></TABLE>
<pre> Usage   : Adds primary_keys and their type in preparation to store the whole analysis<BR> Returns : none<BR> Args    :  type of id (i.e. expression, TF, reg_seq,etc.), followed by the primary_key for this record<BR> Warnings: <BR> Todo   : Introduce checks<BR></pre>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0" CELLSPACING="0">
<TR BGCOLOR="#4492df"><TD WIDTH="200"><A NAME="_pod_current_key"></A><A NAME="POD8"></A><B>current_key</B></TD><TD><A HREF="#CODE9">code</A></TD><TD><A HREF="#TOP">top</A></TD><TD><A HREF="#POD7">prev</A></TD><TD><A HREF="#POD9">next</A></TD></TR></TABLE>
<pre> Usage   : my $key=$<B>regdb</B>-&gt;current_key('expression');<BR> Returns : the last primary key returned as a result of table_insert manipulation<BR> Args    : the table name, new primary key(optional)<BR> Warnings: <BR> Todo   : Introduce checks<BR></pre>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0" CELLSPACING="0">
<TR BGCOLOR="#4492df"><TD WIDTH="200"><A NAME="_pod_get_data_by_primary_key"></A><A NAME="POD9"></A><B>get_data_by_primary_key</B></TD><TD><A HREF="#CODE13">code</A></TD><TD><A HREF="#TOP">top</A></TD><TD><A HREF="#POD8">prev</A></TD><TD><A HREF="#POD10">next</A></TD></TR></TABLE>
<pre> Usage   : my @data=$self-&gt;get_data_by_primary_key($table_name,$pri_key);<BR> Returns : all fields for a record, matching the primary key $pri_key<BR> Args    : the table name ($table_name, should be valid table name in the current schema),<BR>             followed by the primary key value <BR> Warnings: <BR> Todo   : Introduce checks<BR></pre>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0" CELLSPACING="0">
<TR BGCOLOR="#4492df"><TD WIDTH="200"><A NAME="_pod_get_primary_key"></A><A NAME="POD10"></A><B>get_primary_key</B></TD><TD><A HREF="#CODE14">code</A></TD><TD><A HREF="#TOP">top</A></TD><TD><A HREF="#POD9">prev</A></TD><TD><A HREF="#POD11">next</A></TD></TR></TABLE>
<pre> Function : Returns a primary key based on the full dataset for a record.<BR>            Will not match correctly if not all fields are provided.<BR> Usage   : my $pkey=$self-&gt;get_primary_key;<BR> Returns : the primary key(s) of the record(s) meeting the criteria<BR> Args    : the table name, followed by the primary key value (optional)<BR> Warnings: if multiple keys are retrieved when scalar is requested<BR> Todo   : Introduce checks<BR></pre>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0" CELLSPACING="0">
<TR BGCOLOR="#4492df"><TD WIDTH="200"><A NAME="_pod_join_project"></A><A NAME="POD11"></A><B>join_project</B></TD><TD><A HREF="#CODE17">code</A></TD><TD><A HREF="#TOP">top</A></TD><TD><A HREF="#POD10">prev</A></TD><TD><A HREF="#POD12">next</A></TD></TR></TABLE>
<pre> Usage   : <BR> Function : Authorizes a user to write to an existing project. User should be already logged in.<BR> Returns : <BR> Args    : user_id, project_id<BR> Warnings: <BR> Exceptions : Bad user id<BR> Todo   : Introduce checks<BR></pre>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0" CELLSPACING="0">
<TR BGCOLOR="#4492df"><TD WIDTH="200"><A NAME="_pod_my_projects"></A><A NAME="POD12"></A><B>my_projects</B></TD><TD><A HREF="#CODE18">code</A></TD><TD><A HREF="#TOP">top</A></TD><TD><A HREF="#POD11">prev</A></TD><TD><A HREF="#POD13">next</A></TD></TR></TABLE>
<pre> Usage   : my @projects=$pazar-&gt;my_projects; <BR> Function : Returns all projects that a user is authorized to contribute to<BR> Returns : <BR> Args    : <BR> Warnings: <BR> Exceptions : dies unless authenticated<BR> Todo   : Introduce checks<BR></pre>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0" CELLSPACING="0">
<TR BGCOLOR="#4492df"><TD WIDTH="200"><A NAME="_pod_open_projects"></A><A NAME="POD13"></A><B>open_projects</B></TD><TD><A HREF="#CODE20">code</A></TD><TD><A HREF="#TOP">top</A></TD><TD><A HREF="#POD12">prev</A></TD><TD><A HREF="#POD14">next</A></TD></TR></TABLE>
<pre> Usage   : my @projects=$pazar-&gt;open_projects; <BR> Function : Get list of all open projects- anyone can contribute to these<BR> Returns : <BR> Args    : <BR> Warnings: <BR> Exceptions : <BR> Todo   : Introduce checks<BR></pre>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0" CELLSPACING="0">
<TR BGCOLOR="#4492df"><TD WIDTH="200"><A NAME="_pod_prepare"></A><A NAME="POD14"></A><B>prepare</B></TD><TD><A HREF="#CODE21">code</A></TD><TD><A HREF="#TOP">top</A></TD><TD><A HREF="#POD13">prev</A></TD><TD><A HREF="#POD15">next</A></TD></TR></TABLE>
<pre> Usage   : my $sth=$<B>regdb</B>-&gt;prepare(&quot;select construct_name from construct where sequence='TATATTA'&quot;);<BR> Function : Overloads the DBI prepare method<BR> Returns : database query handle<BR> Args    : string- sql statement<BR> Warnings: DBI handle object<BR> Exceptions : Throws an exception if DBI does<BR> Todo   : Introduce checks<BR></pre>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0" CELLSPACING="0">
<TR BGCOLOR="#4492df"><TD WIDTH="200"><A NAME="_pod_public_projects"></A><A NAME="POD15"></A><B>public_projects</B></TD><TD><A HREF="#CODE22">code</A></TD><TD><A HREF="#TOP">top</A></TD><TD><A HREF="#POD14">prev</A></TD><TD><A HREF="#POD16">next</A></TD></TR></TABLE>
<pre> Usage   : my @projects=$pazar-&gt;public_projects; <BR> Function : Returns all public projects that a user can query<BR> Returns : <BR> Args    : <BR> Warnings: <BR> Exceptions : <BR> Todo   : Introduce checks<BR></pre>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0" CELLSPACING="0">
<TR BGCOLOR="#4492df"><TD WIDTH="200"><A NAME="_pod_remove_input"></A><A NAME="POD16"></A><B>remove_input</B></TD><TD><A HREF="#CODE23">code</A></TD><TD><A HREF="#TOP">top</A></TD><TD><A HREF="#POD15">prev</A></TD><TD><A HREF="#POD17">next</A></TD></TR></TABLE>
<pre> Usage   : removes primary_keys based on their type from the object<BR> Returns : none<BR> Args    :  type of id (i.e. expression, TF, reg_seq,etc.)<BR> Warnings: <BR> Todo   : Introduce checks<BR></pre>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0" CELLSPACING="0">
<TR BGCOLOR="#4492df"><TD WIDTH="200"><A NAME="_pod_remove_output"></A><A NAME="POD17"></A><B>remove_output</B></TD><TD><A HREF="#CODE24">code</A></TD><TD><A HREF="#TOP">top</A></TD><TD><A HREF="#POD16">prev</A></TD><TD><A HREF="#POD18">next</A></TD></TR></TABLE>
<pre> Usage   : removes primary_keys based on their type from the object<BR> Returns : none<BR> Args    :  type of id (i.e. expression, TF, reg_seq,etc.)<BR> Warnings: <BR> Todo   : Introduce checks<BR></pre>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0" CELLSPACING="0">
<TR BGCOLOR="#4492df"><TD WIDTH="200"><A NAME="_pod_table_insert"></A><A NAME="POD18"></A><B>table_insert</B></TD><TD><A HREF="#CODE27">code</A></TD><TD><A HREF="#TOP">top</A></TD><TD><A HREF="#POD17">prev</A></TD><TD><A HREF="#POD19">next</A></TD></TR></TABLE>
<pre> Usage   : $self-&gt;table_insert;<BR> Returns : the primary key of the new record<BR> Args    : the table name, followed by all values<BR> Throws  : if no valid arguments to the table are provided, or if the user has no privilidges to store data<BR>            (see authentication basics)<BR> Todo   : Introduce more checks<BR></pre>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0" CELLSPACING="0">
<TR BGCOLOR="#4492df"><TD WIDTH="200"><A NAME="_pod_table_order"></A><A NAME="POD19"></A><B>table_order</B></TD><TD><A HREF="#CODE28">code</A></TD><TD><A HREF="#TOP">top</A></TD><TD><A HREF="#POD18">prev</A></TD><TD><A HREF="#POD20">next</A></TD></TR></TABLE>
<pre> Usage   : my ($ord,$enum)=$pazar-&gt;table_order('expression'); <BR> Function : returns the current order of the table fields<BR> Returns : stwo hash refs, one describing the order, one with any enum definitions<BR> Args    : table name<BR> Warnings: <BR> Exceptions : <BR> Todo   : Introduce checks<BR></pre>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0" CELLSPACING="0">
<TR BGCOLOR="#4492df"><TD WIDTH="200"><A NAME="_pod_talk_init"></A><A NAME="POD20"></A><B>talk_init</B></TD><TD><A HREF="#CODE29">code</A></TD><TD><A HREF="#TOP">top</A></TD><TD><A HREF="#POD19">prev</A></TD><TD><A HREF="#POD21">next</A></TD></TR></TABLE>
<pre> Usage   : <BR> Function : Initializes a database <B>regdb</B> can talk to.<BR>            Destroys previous database talk connection.<BR> Returns : <BR> Args    : <BR> Warnings: <BR> Exceptions : Throws an exception if DBI does<BR> Todo   : Introduce checks<BR></pre>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0" CELLSPACING="0">
<TR BGCOLOR="#4492df"><TD WIDTH="200"><A NAME="_pod_talkto"></A><A NAME="POD21"></A><B>talkto</B></TD><TD><A HREF="#CODE30">code</A></TD><TD><A HREF="#TOP">top</A></TD><TD><A HREF="#POD20">prev</A></TD><TD><A HREF="#POD22">next</A></TD></TR></TABLE>
<pre> Usage   : <BR> Function : Not fully implemented yet<BR> Returns : <BR> Args    : <BR> Warnings: <BR> Exceptions : <BR> Todo   : Introduce checks<BR></pre>
<A NAME="MethCode"></A>
<HR><H2>Methods code</H2>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0">
<TR BGCOLOR="#dcab68"><TD WIDTH="200"><A NAME="CODE1"></A><B>_allowed</B></TD><TD><A HREF="#POD1">description</A></TD><TD WIDTH="30"><A HREF="#TOP">top</A></TD><TD WIDTH="30">prev</TD><TD WIDTH="30"><A HREF="#CODE2">next</A></TD></TR></TABLE>
<font color="#0000ff"><b>sub</b></font> <font color="#ff00ff"><b>_allowed</b></font>
 {<pre>	<font color="#0000ff"><b>my</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>,<font color="#1f32ff">$id</font>,<font color="#1f32ff">$type</font><font color="#0000ff"><b>)</b></font>=<font color="#1f32ff">@_</font>;
	<font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$uid</font>=<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>userid<font color="#0000ff"><b>}</b></font>;
	<font color="#4169e1"><b>print</b></font> <font color="#007400">"PID <font color="#1f32ff">$id</font> userid $uid\n"</font>;
	<font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$chkh</font>=<font color="#1f32ff">$self</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select user_project_id from user_project where project_id='$id'
				and user_id='$uid'"</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font>;
	<font color="#1f32ff">$chkh</font>-&gt;execute||die;
	<font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$chk</font>=<font color="#1f32ff">$chkh</font>-&gt;fetchrow_array;
	<font color="#4169e1"><b>die</b></font> <font color="#007400">"You don't have priviledges to write in this project"</font> <font color="#0000ff"><b>unless</b></font> <font color="#0000ff"><b>(</b></font><font color="#0000ff"><b>(</b></font><font color="#1f32ff">$chk</font><font color="#0000ff"><b>)</b></font>||<font color="#0000ff"><b>(</b></font><font color="#1f32ff">$type</font> <font color="#0000ff"><b>eq</b></font> <font color="#007400">'open'</font><font color="#0000ff"><b>)</b></font><font color="#0000ff"><b>)</b></font>;
	<font color="#0000ff"><b>unless</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$chk</font><font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font>
		<font color="#1f32ff">$self</font>-&gt;<font color="#ff8204">join_project</font><font color="#0000ff"><b>(</b></font><font color="#1f32ff">$uid</font>,<font color="#1f32ff">$id</font><font color="#0000ff"><b>)</b></font>;
	<font color="#0000ff"><b>}</b></font>
	<font color="#0000ff"><b>return</b></font> 1;</pre>}<BR>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0">
<TR BGCOLOR="#dcab68"><TD WIDTH="200"><A NAME="CODE2"></A><B>_check_credentials</B></TD><TD><A HREF="#POD2">description</A></TD><TD WIDTH="30"><A HREF="#TOP">top</A></TD><TD WIDTH="30"><A HREF="#CODE1">prev</A></TD><TD WIDTH="30"><A HREF="#CODE3">next</A></TD></TR></TABLE>
<font color="#0000ff"><b>sub</b></font> <font color="#ff00ff"><b>_check_credentials</b></font>
 {<pre><font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$self</font>=<font color="#4169e1"><b>shift</b></font>;
<font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$user</font>=<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>user<font color="#0000ff"><b>}</b></font>;
<font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$pass</font>=<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>pass<font color="#0000ff"><b>}</b></font>;
<font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$checkuser</font>=<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>dbh<font color="#0000ff"><b>}</b></font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select user_id from users where username=? and password=?"</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#1f32ff">$checkuser</font>-&gt;<font color="#ff8204">execute</font><font color="#0000ff"><b>(</b></font><font color="#1f32ff">$user</font>,<font color="#1f32ff">$pass</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#0000ff"><b>return</b></font> <font color="#1f32ff">$checkuser</font>-&gt;fetchrow_array;</pre>}<BR>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0">
<TR BGCOLOR="#dcab68"><TD WIDTH="200"><A NAME="CODE3"></A><B>_get_projid</B></TD><TD><A HREF="#POD3">description</A></TD><TD WIDTH="30"><A HREF="#TOP">top</A></TD><TD WIDTH="30"><A HREF="#CODE2">prev</A></TD><TD WIDTH="30"><A HREF="#CODE4">next</A></TD></TR></TABLE>
<font color="#0000ff"><b>sub</b></font> <font color="#ff00ff"><b>_get_projid</b></font>
 {<pre><font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$self</font>=<font color="#4169e1"><b>shift</b></font>;
<font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$projid</font>=<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>dbh<font color="#0000ff"><b>}</b></font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select project_id, status from project where project_name=?"</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#1f32ff">$projid</font>-&gt;<font color="#ff8204">execute</font><font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>project<font color="#0000ff"><b>}</b></font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#0000ff"><b>my</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$id</font>,<font color="#1f32ff">$status</font><font color="#0000ff"><b>)</b></font>= <font color="#1f32ff">$projid</font>-&gt;fetchrow_array;
<font color="#0000ff"><b>return</b></font> <font color="#1f32ff">$id</font> <font color="#0000ff"><b>if</b></font> <font color="#0000ff"><b>(</b></font><font color="#0000ff"><b>(</b></font><font color="#1f32ff">$id</font><font color="#0000ff"><b>)</b></font>&amp;&amp;<font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#ff8204">_allowed</font><font color="#0000ff"><b>(</b></font><font color="#1f32ff">$id</font>,<font color="#1f32ff">$status</font><font color="#0000ff"><b>)</b></font><font color="#0000ff"><b>)</b></font><font color="#0000ff"><b>)</b></font> ;
<font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$proji</font>=<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>dbh<font color="#0000ff"><b>}</b></font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"insert into project (project_name) values (?)"</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#1f32ff">$proji</font>-&gt;<font color="#ff8204">execute</font><font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>project<font color="#0000ff"><b>}</b></font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$projid</font>=<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>dbh<font color="#0000ff"><b>}</b></font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select project_id from project where project_name=?"</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#1f32ff">$projid</font>-&gt;<font color="#ff8204">execute</font><font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>project<font color="#0000ff"><b>}</b></font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$pid</font>=<font color="#1f32ff">$projid</font>-&gt;fetchrow_array;
<font color="#1f32ff">$self</font>-&gt;<font color="#ff8204">join_project</font><font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>userid<font color="#0000ff"><b>}</b></font>,<font color="#1f32ff">$pid</font><font color="#0000ff"><b>)</b></font>;
<font color="#0000ff"><b>return</b></font> <font color="#1f32ff">$pid</font>;</pre>}<BR>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0">
<TR BGCOLOR="#dcab68"><TD WIDTH="200"><A NAME="CODE4"></A><B>_init_standard_handles</B></TD><TD><A HREF="#POD4">description</A></TD><TD WIDTH="30"><A HREF="#TOP">top</A></TD><TD WIDTH="30"><A HREF="#CODE3">prev</A></TD><TD WIDTH="30"><A HREF="#CODE5">next</A></TD></TR></TABLE>
<font color="#0000ff"><b>sub</b></font> <font color="#ff00ff"><b>_init_standard_handles</b></font>
 {<pre><font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$self</font>=<font color="#4169e1"><b>shift</b></font>;
<font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$dbh</font>=<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>dbh<font color="#0000ff"><b>}</b></font>;
<font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$pid</font>=<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>projectid<font color="#0000ff"><b>}</b></font>;


=head2 Basic handles initialization

 This code is automatically generated by get_handles script and should be updated using the same script
 <font color="#0000ff"><b>for</b></font> more info see scripts<font color="#006400"><b>/get_handles.pl<BR> The name of the handle represents the table name and the type of statement (q for querying and i for inserting)<BR> The query is very basic- it only gets the primary_id, given everything else, except date and project_id (which is always the same and is carried by the regdb object)<BR> Todo: Parameters to choose what kind of queries/tables</b></font> to be initialized

=cut

<font color="#ff0000">##Tue Dec 27 13:54:30 EST 2005</font><BR>
<font color="#ff0000">##Table ANALYSIS basic handles</font><BR><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>analysis_q<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select analysis_id from analysis where user_id = ?  and evidence_id = ?  and name = ?  and method_id = ?  and cell_id = ?  and time_id = ?  and ref_id = ?  and comments = ?  "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>analysis_dat<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select * from analysis where analysis_id=? "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>analysis_i<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"insert into analysis (user_id,evidence_id,name,method_id,cell_id,time_id,ref_id,comments,project_id) values (?,?,?,?,?,?,?,?,<font color="#1f32ff">$pid</font>) "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#ff0000">##Table ANALYSIS_I_LINK basic handles</font><BR><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>analysis_i_link_q<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select analysis_i_link_id from analysis_i_link where analysis_input_id = ?  and analysis_o_link_id = ?  "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>analysis_i_link_dat<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select * from analysis_i_link where analysis_i_link_id=? "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>analysis_i_link_i<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"insert into analysis_i_link (analysis_input_id,analysis_o_link_id) values (?,?) "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#ff0000">##Table ANALYSIS_INPUT basic handles</font><BR><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>analysis_input_q<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select analysis_input_id from analysis_input where analysis_id = ?  and io_type_id = ?  "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>analysis_input_dat<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select * from analysis_input where analysis_input_id=? "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#0000ff"><b>if</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>project<font color="#0000ff"><b>}</b></font> <font color="#0000ff"><b>ne</b></font> <font color="#007400">'na'</font><font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>analysis_input_i<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"insert into analysis_input (analysis_id,io_type_id,project_id) values (?,?,<font color="#1f32ff">$pid</font>) "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr; <font color="#0000ff"><b>}</b></font>
<font color="#ff0000">##Table ANALYSIS_O_LINK basic handles</font><BR><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>analysis_o_link_q<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select analysis_o_link_id from analysis_o_link where analysis_i_link_id = ?  and analysis_output_id = ?  "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>analysis_o_link_dat<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select * from analysis_o_link where analysis_o_link_id=? "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>analysis_o_link_i<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"insert into analysis_o_link (analysis_i_link_id,analysis_output_id) values (?,?) "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#ff0000">##Table ANALYSIS_OUTPUT basic handles</font><BR><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>analysis_output_q<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select analysis_output_id from analysis_output where io_type_id = ?  "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>analysis_output_dat<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select * from analysis_output where analysis_output_id=? "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#0000ff"><b>if</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>project<font color="#0000ff"><b>}</b></font> <font color="#0000ff"><b>ne</b></font> <font color="#007400">'na'</font><font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>analysis_output_i<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"insert into analysis_output (io_type_id,project_id) values (?,<font color="#1f32ff">$pid</font>) "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr; <font color="#0000ff"><b>}</b></font>
<font color="#ff0000">##Table ANCHOR_REG_SEQ basic handles</font><BR><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>anchor_reg_seq_q<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select anchor_reg_seq_id from anchor_reg_seq where marker_id = ?  and tsr_id = ?  and reg_seq_id = ?  "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>anchor_reg_seq_dat<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select * from anchor_reg_seq where anchor_reg_seq_id=? "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>anchor_reg_seq_i<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"insert into anchor_reg_seq (marker_id,tsr_id,reg_seq_id) values (?,?,?) "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#ff0000">##Table CELL basic handles</font><BR><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>cell_q<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select cell_id from cell where name = ?  and tissue_ontology = ?  and status = ?  and description = ?  and species = ?  "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>cell_dat<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select * from cell where cell_id=? "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#0000ff"><b>if</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>project<font color="#0000ff"><b>}</b></font> <font color="#0000ff"><b>ne</b></font> <font color="#007400">'na'</font><font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>cell_i<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"insert into cell (name,tissue_ontology,status,description,species,project_id) values (?,?,?,?,?,<font color="#1f32ff">$pid</font>) "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr; <font color="#0000ff"><b>}</b></font>
<font color="#ff0000">##Table CONDITION basic handles</font><BR><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>condition_q<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select condition_id from condition where cond_type = ?  and molecule = ?  and description = ?  and concentration = ?  and scale = ?  "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>condition_dat<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select * from condition where condition_id=? "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#0000ff"><b>if</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>project<font color="#0000ff"><b>}</b></font> <font color="#0000ff"><b>ne</b></font> <font color="#007400">'na'</font><font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>condition_i<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"insert into condition (cond_type,molecule,description,concentration,scale,project_id) values (?,?,?,?,?,<font color="#1f32ff">$pid</font>) "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr; <font color="#0000ff"><b>}</b></font>
<font color="#ff0000">##Table CONSERVED_EL basic handles</font><BR><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>conserved_el_q<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select conserved_el_id from conserved_el where conserved_group_id = ?  and reg_seq_id = ?  and homolog_set_id = ?  "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>conserved_el_dat<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select * from conserved_el where conserved_el_id=? "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#0000ff"><b>if</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>project<font color="#0000ff"><b>}</b></font> <font color="#0000ff"><b>ne</b></font> <font color="#007400">'na'</font><font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>conserved_el_i<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"insert into conserved_el (conserved_group_id,reg_seq_id,homolog_set_id,project_id) values (?,?,?,<font color="#1f32ff">$pid</font>) "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr; <font color="#0000ff"><b>}</b></font>
<font color="#ff0000">##Table CONSTRUCT basic handles</font><BR><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>construct_q<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select construct_id from construct where construct_name = ?  and description = ?  and sequence = ?  "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>construct_dat<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select * from construct where construct_id=? "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#0000ff"><b>if</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>project<font color="#0000ff"><b>}</b></font> <font color="#0000ff"><b>ne</b></font> <font color="#007400">'na'</font><font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>construct_i<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"insert into construct (construct_name,description,sequence,project_id) values (?,?,?,<font color="#1f32ff">$pid</font>) "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr; <font color="#0000ff"><b>}</b></font>
<font color="#ff0000">##Table COORDINATE basic handles</font><BR><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>coordinate_q<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select coordinate_id from coordinate where location_id = ?  and strand = ?  and begin = ?  and end = ?  and length = ?  "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>coordinate_dat<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select * from coordinate where coordinate_id=? "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#0000ff"><b>if</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>project<font color="#0000ff"><b>}</b></font> <font color="#0000ff"><b>ne</b></font> <font color="#007400">'na'</font><font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>coordinate_i<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"insert into coordinate (location_id,strand,begin,end,length,project_id) values (?,?,?,?,?,<font color="#1f32ff">$pid</font>) "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr; <font color="#0000ff"><b>}</b></font>
<font color="#ff0000">##Table DATASET basic handles</font><BR><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>dataset_q<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select dataset_id from dataset where reg_seq_id = ?  and construct_id = ?  and dataset_name = ?  "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>dataset_dat<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select * from dataset where dataset_id=? "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#0000ff"><b>if</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>project<font color="#0000ff"><b>}</b></font> <font color="#0000ff"><b>ne</b></font> <font color="#007400">'na'</font><font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>dataset_i<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"insert into dataset (reg_seq_id,construct_id,dataset_name,project_id) values (?,?,?,<font color="#1f32ff">$pid</font>) "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr; <font color="#0000ff"><b>}</b></font>
<font color="#ff0000">##Table DB_SOURCE basic handles</font><BR><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>db_source_q<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select db_source_id from db_source where db_name = ?  and db_subset = ?  "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>db_source_dat<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select * from db_source where db_source_id=? "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#0000ff"><b>if</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>project<font color="#0000ff"><b>}</b></font> <font color="#0000ff"><b>ne</b></font> <font color="#007400">'na'</font><font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>db_source_i<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"insert into db_source (db_name,db_subset,project_id) values (?,?,<font color="#1f32ff">$pid</font>) "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr; <font color="#0000ff"><b>}</b></font>
<font color="#ff0000">##Table EVIDENCE basic handles</font><BR><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>evidence_q<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select evidence_id from evidence where type_evid = ?  and status_evid = ?  "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>evidence_dat<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select * from evidence where evidence_id=? "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>evidence_i<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"insert into evidence (type_evid,status_evid) values (?,?) "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#ff0000">##Table EXPRESSION basic handles</font><BR><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>expression_q<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select expression_id from expression where qualitative = ?  and quantitative = ?  and scale = ?  and comments = ?  "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>expression_dat<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select * from expression where expression_id=? "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#0000ff"><b>if</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>project<font color="#0000ff"><b>}</b></font> <font color="#0000ff"><b>ne</b></font> <font color="#007400">'na'</font><font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>expression_i<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"insert into expression (qualitative,quantitative,scale,comments,project_id) values (?,?,?,?,<font color="#1f32ff">$pid</font>) "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr; <font color="#0000ff"><b>}</b></font>
<font color="#ff0000">##Table FUNCT_TF basic handles</font><BR><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>funct_tf_q<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select funct_tf_id from funct_tf where funct_tf_name = ?  and ref_id = ?  "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>funct_tf_dat<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select * from funct_tf where funct_tf_id=? "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#0000ff"><b>if</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>project<font color="#0000ff"><b>}</b></font> <font color="#0000ff"><b>ne</b></font> <font color="#007400">'na'</font><font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>funct_tf_i<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"insert into funct_tf (funct_tf_name,ref_id,project_id) values (?,?,<font color="#1f32ff">$pid</font>) "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr; <font color="#0000ff"><b>}</b></font>
<font color="#ff0000">##Table GENE_SOURCE basic handles</font><BR><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>gene_source_q<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select gene_source_id from gene_source where db_source_id = ?  and db_accn = ?  and description = ?  "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>gene_source_dat<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select * from gene_source where gene_source_id=? "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#0000ff"><b>if</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>project<font color="#0000ff"><b>}</b></font> <font color="#0000ff"><b>ne</b></font> <font color="#007400">'na'</font><font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>gene_source_i<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"insert into gene_source (db_source_id,db_accn,description,project_id) values (?,?,?,<font color="#1f32ff">$pid</font>) "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr; <font color="#0000ff"><b>}</b></font>
<font color="#ff0000">##Table HOMOLOG basic handles</font><BR><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>homolog_q<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select homolog_id from homolog where gene_source_id = ?  and homolog_set_id = ?  and db_source_id = ?  and homology_type = ?  "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>homolog_dat<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select * from homolog where homolog_id=? "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#0000ff"><b>if</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>project<font color="#0000ff"><b>}</b></font> <font color="#0000ff"><b>ne</b></font> <font color="#007400">'na'</font><font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>homolog_i<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"insert into homolog (gene_source_id,homolog_set_id,db_source_id,homology_type,project_id) values (?,?,?,?,<font color="#1f32ff">$pid</font>) "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr; <font color="#0000ff"><b>}</b></font>
<font color="#ff0000">##Table INTERACTION basic handles</font><BR><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>interaction_q<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select interaction_id from interaction where qualitative = ?  and quantitative = ?  and scale = ?  and comments = ?  "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>interaction_dat<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select * from interaction where interaction_id=? "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#0000ff"><b>if</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>project<font color="#0000ff"><b>}</b></font> <font color="#0000ff"><b>ne</b></font> <font color="#007400">'na'</font><font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>interaction_i<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"insert into interaction (qualitative,quantitative,scale,comments,project_id) values (?,?,?,?,<font color="#1f32ff">$pid</font>) "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr; <font color="#0000ff"><b>}</b></font>
<font color="#ff0000">##Table IO_TYPE basic handles</font><BR><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>io_type_q<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select io_type_id from io_type where io_element_id = ?  and io_element_type = ?  "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>io_type_dat<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select * from io_type where io_type_id=? "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#0000ff"><b>if</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>project<font color="#0000ff"><b>}</b></font> <font color="#0000ff"><b>ne</b></font> <font color="#007400">'na'</font><font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>io_type_i<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"insert into io_type (io_element_id,io_element_type,project_id) values (?,?,<font color="#1f32ff">$pid</font>) "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr; <font color="#0000ff"><b>}</b></font>
<font color="#ff0000">##Table LOCATION basic handles</font><BR><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>location_q<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select location_id from location where species = ?  and assembly = ?  and chr = ?  and db_source_id = ?  and band = ?  "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>location_dat<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select * from location where location_id=? "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#0000ff"><b>if</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>project<font color="#0000ff"><b>}</b></font> <font color="#0000ff"><b>ne</b></font> <font color="#007400">'na'</font><font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>location_i<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"insert into location (species,assembly,chr,db_source_id,band,project_id) values (?,?,?,?,?,<font color="#1f32ff">$pid</font>) "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr; <font color="#0000ff"><b>}</b></font>
<font color="#ff0000">##Table MARKER basic handles</font><BR><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>marker_q<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select marker_id from marker where db_source_id = ?  and db_accn = ?  and description = ?  "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>marker_dat<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select * from marker where marker_id=? "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#0000ff"><b>if</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>project<font color="#0000ff"><b>}</b></font> <font color="#0000ff"><b>ne</b></font> <font color="#007400">'na'</font><font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>marker_i<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"insert into marker (db_source_id,db_accn,description,project_id) values (?,?,?,<font color="#1f32ff">$pid</font>) "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr; <font color="#0000ff"><b>}</b></font>
<font color="#ff0000">##Table MATRIX basic handles</font><BR><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>matrix_q<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select matrix_id from matrix where name = ?  and db_source_id = ?  and db_accn = ?   and description = ?  "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>matrix_dat<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select * from matrix where matrix_id=? "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>matrix_i<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"insert into matrix (name,db_source_id,db_accn,vectora,vectorc,vectorg,vectort,description) values (?,?,?,?,?,?,?,?) "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#ff0000">##Table MATRIX_INFO basic handles</font><BR><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>matrix_info_q<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select matrix_info_id from matrix_info where matrix_id = ?  and species = ?  and pubmed = ?  and exptype = ?  "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>matrix_info_dat<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select * from matrix_info where matrix_info_id=? "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>matrix_info_i<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"insert into matrix_info (matrix_id,species,pubmed,exptype) values (?,?,?,?) "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#ff0000">##Table METHOD basic handles</font><BR><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>method_q<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select method_id from method where method = ?  and description = ?  "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>method_dat<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select * from method where method_id=? "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>method_i<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"insert into method (method,description) values (?,?) "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#ff0000">##Table MUTATION basic handles</font><BR><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>mutation_q<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select mutation_id from mutation where mutation_set_id = ?  and position = ?  and base = ?  "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>mutation_dat<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select * from mutation where mutation_id=? "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>mutation_i<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"insert into mutation (mutation_set_id,position,base) values (?,?,?) "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#ff0000">##Table MUTATION_SET basic handles</font><BR><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>mutation_set_q<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select mutation_set_id from mutation_set where reg_seq_id = ?  and mutant_name = ?  and coordinate_id = ?  and method_id = ?  and ref_id = ?  and mutated_seq = ?  and comments = ?  "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>mutation_set_dat<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select * from mutation_set where mutation_set_id=? "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#0000ff"><b>if</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>project<font color="#0000ff"><b>}</b></font> <font color="#0000ff"><b>ne</b></font> <font color="#007400">'na'</font><font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>mutation_set_i<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"insert into mutation_set (reg_seq_id,mutant_name,coordinate_id,method_id,ref_id,mutated_seq,comments,project_id) values (?,?,?,?,?,?,?,<font color="#1f32ff">$pid</font>) "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr; <font color="#0000ff"><b>}</b></font>
<font color="#ff0000">##Table PARAMETER basic handles</font><BR><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>parameter_q<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select parameter_id from parameter where tag = ?  and table_name = ?  and table_primary_id = ?  and value = ?  "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>parameter_dat<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select * from parameter where parameter_id=? "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#0000ff"><b>if</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>project<font color="#0000ff"><b>}</b></font> <font color="#0000ff"><b>ne</b></font> <font color="#007400">'na'</font><font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>parameter_i<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"insert into parameter (tag,table_name,table_primary_id,value,project_id) values (?,?,?,?,<font color="#1f32ff">$pid</font>) "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr; <font color="#0000ff"><b>}</b></font>
<font color="#ff0000">##Table PROJECT basic handles</font><BR><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>project_q<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select project_id from project where password = ?  and status = ?  "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>project_dat<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select * from project where project_id=? "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#0000ff"><b>if</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>project<font color="#0000ff"><b>}</b></font> <font color="#0000ff"><b>ne</b></font> <font color="#007400">'na'</font><font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>project_i<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"insert into project (password,status,project_id) values (?,?,<font color="#1f32ff">$pid</font>) "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr; <font color="#0000ff"><b>}</b></font>
<font color="#ff0000">##Table REF basic handles</font><BR><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>ref_q<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select ref_id from ref where pmid = ?  "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>ref_dat<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select * from ref where ref_id=? "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#0000ff"><b>if</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>project<font color="#0000ff"><b>}</b></font> <font color="#0000ff"><b>ne</b></font> <font color="#007400">'na'</font><font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>ref_i<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"insert into ref (pmid,project_id) values (?,<font color="#1f32ff">$pid</font>) "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr; <font color="#0000ff"><b>}</b></font>
<font color="#ff0000">##Table REG_SEQ basic handles</font><BR><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>reg_seq_q<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select reg_seq_id from reg_seq where tfbs_name = ?  and coordinate_id = ?  and sequence = ?  and quality = ?  "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>reg_seq_dat<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select * from reg_seq where reg_seq_id=? "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>reg_seq_i<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"insert into reg_seq (tfbs_name,coordinate_id,sequence,quality) values (?,?,?,?) "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#ff0000">##Table REG_SEQ_CONSTRUCT basic handles</font><BR><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>reg_seq_construct_q<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select reg_seq_construct_id from reg_seq_construct where construct_id = ?  and reg_seq_id = ?  and comments = ?  "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>reg_seq_construct_dat<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select * from reg_seq_construct where reg_seq_construct_id=? "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#0000ff"><b>if</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>project<font color="#0000ff"><b>}</b></font> <font color="#0000ff"><b>ne</b></font> <font color="#007400">'na'</font><font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>reg_seq_construct_i<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"insert into reg_seq_construct (construct_id,reg_seq_id,comments,project_id) values (?,?,?,<font color="#1f32ff">$pid</font>) "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr; <font color="#0000ff"><b>}</b></font>
<font color="#ff0000">##Table REG_SEQ_SET basic handles</font><BR><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>reg_seq_set_q<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select reg_seq_set_id from reg_seq_set where reg_seq_id = ?  and matrix_id = ?  "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>reg_seq_set_dat<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select * from reg_seq_set where reg_seq_set_id=? "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>reg_seq_set_i<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"insert into reg_seq_set (reg_seq_id,matrix_id) values (?,?) "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#ff0000">##Table SAMPLE basic handles</font><BR><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>sample_q<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select sample_id from sample where sample_type = ?  and cell_id = ?  and time_id = ?  "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>sample_dat<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select * from sample where sample_id=? "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#0000ff"><b>if</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>project<font color="#0000ff"><b>}</b></font> <font color="#0000ff"><b>ne</b></font> <font color="#007400">'na'</font><font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>sample_i<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"insert into sample (sample_type,cell_id,time_id,project_id) values (?,?,?,<font color="#1f32ff">$pid</font>) "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr; <font color="#0000ff"><b>}</b></font>
<font color="#ff0000">##Table TF basic handles</font><BR><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>tf_q<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select tf_id from tf where transcript_id = ?  and class = ?  and family = ?  "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>tf_dat<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select * from tf where tf_id=? "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>tf_i<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"insert into tf (transcript_id,class,family) values (?,?,?) "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#ff0000">##Table TF_COMPLEX basic handles</font><BR><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>tf_complex_q<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select tf_complex_id from tf_complex where tf_id = ?  and funct_tf_id = ?  and modifications = ?  "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>tf_complex_dat<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select * from tf_complex where tf_complex_id=? "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>tf_complex_i<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"insert into tf_complex (tf_id,funct_tf_id,modifications) values (?,?,?) "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#ff0000">##Table TIME basic handles</font><BR><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>time_q<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select time_id from time where name = ?  and description = ?  and scale = ?  and range_start = ?  and range_end = ?  "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>time_dat<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select * from time where time_id=? "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#0000ff"><b>if</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>project<font color="#0000ff"><b>}</b></font> <font color="#0000ff"><b>ne</b></font> <font color="#007400">'na'</font><font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>time_i<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"insert into time (name,description,scale,range_start,range_end,project_id) values (?,?,?,?,?,<font color="#1f32ff">$pid</font>) "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr; <font color="#0000ff"><b>}</b></font>
<font color="#ff0000">##Table TRANSCRIPT basic handles</font><BR><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>transcript_q<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select transcript_id from transcript where gene_source_id = ?  and db_source_id = ?  and db_accn = ?  and isoform = ?  and comments = ?  "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>transcript_dat<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select * from transcript where transcript_id=? "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#0000ff"><b>if</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>project<font color="#0000ff"><b>}</b></font> <font color="#0000ff"><b>ne</b></font> <font color="#007400">'na'</font><font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>transcript_i<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"insert into transcript (gene_source_id,db_source_id,db_accn,isoform,comments,project_id) values (?,?,?,?,?,<font color="#1f32ff">$pid</font>) "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr; <font color="#0000ff"><b>}</b></font>
<font color="#ff0000">##Table TSR basic handles</font><BR><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>tsr_q<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select tsr_id from tsr where gene_source_id = ?  and transcript_id = ?  and fuzzy_start = ?  and fuzzy_end = ?  and predominant_start = ?  "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>tsr_dat<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select * from tsr where tsr_id=? "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#0000ff"><b>if</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>project<font color="#0000ff"><b>}</b></font> <font color="#0000ff"><b>ne</b></font> <font color="#007400">'na'</font><font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>tsr_i<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"insert into tsr (gene_source_id,transcript_id,fuzzy_start,fuzzy_end,predominant_start,project_id) values (?,?,?,?,?,<font color="#1f32ff">$pid</font>) "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr; <font color="#0000ff"><b>}</b></font>
<font color="#ff0000">##Table USER_PROJECT basic handles</font><BR><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>user_project_q<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select project_id from user_project where user_id = ?  "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>user_project_dat<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select * from user_project where project_id=? "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#0000ff"><b>if</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>project<font color="#0000ff"><b>}</b></font> <font color="#0000ff"><b>ne</b></font> <font color="#007400">'na'</font><font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>user_project_i<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"insert into user_project (user_id,project_id) values (?,<font color="#1f32ff">$pid</font>) "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr; <font color="#0000ff"><b>}</b></font>
<font color="#ff0000">##Table USERS basic handles</font><BR><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>users_q<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select user_id from users where first_name = ?  and last_name = ?  and password = ?  and username = ?  and aff = ?  "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>users_dat<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select * from users where user_id=? "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#0000ff"><b>if</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>project<font color="#0000ff"><b>}</b></font> <font color="#0000ff"><b>ne</b></font> <font color="#007400">'na'</font><font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>users_i<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$dbh</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"insert into users (first_name,last_name,password,username,aff,project_id) values (?,?,?,?,?,<font color="#1f32ff">$pid</font>) "</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr; <font color="#0000ff"><b>}</b></font>

<font color="#0000ff"><b>return</b></font> <font color="#1f32ff">$self</font>;</pre>}<BR>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0">
<TR BGCOLOR="#dcab68"><TD WIDTH="200"><A NAME="CODE5"></A><B>_initialize</B></TD><TD><A HREF="#POD5">description</A></TD><TD WIDTH="30"><A HREF="#TOP">top</A></TD><TD WIDTH="30"><A HREF="#CODE4">prev</A></TD><TD WIDTH="30"><A HREF="#CODE6">next</A></TD></TR></TABLE>
<font color="#0000ff"><b>sub</b></font> <font color="#ff00ff"><b>_initialize</b></font>
 {<pre><font color="#0000ff"><b>my</b></font> <font color="#1f32ff">%params</font>=<font color="#1f32ff">@_</font>;
<font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$self</font>;
 <font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>drv<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$params</font><font color="#0000ff"><b>{</b></font>-drv<font color="#0000ff"><b>}</b></font>||<font color="#1f32ff">$ENV</font><font color="#0000ff"><b>{</b></font>REGDB_DRV<font color="#0000ff"><b>}</b></font>;
 <font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>dbname<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$params</font><font color="#0000ff"><b>{</b></font>-dbname<font color="#0000ff"><b>}</b></font>||<font color="#1f32ff">$ENV</font><font color="#0000ff"><b>{</b></font>REGDB_dbname<font color="#0000ff"><b>}</b></font>;
 <font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>user<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$params</font><font color="#0000ff"><b>{</b></font>-user<font color="#0000ff"><b>}</b></font>||<font color="#1f32ff">$ENV</font><font color="#0000ff"><b>{</b></font>REGDB_user<font color="#0000ff"><b>}</b></font>;
 <font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>pass<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$params</font><font color="#0000ff"><b>{</b></font>-pass<font color="#0000ff"><b>}</b></font>||<font color="#1f32ff">$ENV</font><font color="#0000ff"><b>{</b></font>REGDB_pass<font color="#0000ff"><b>}</b></font>;
 <font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>host<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$params</font><font color="#0000ff"><b>{</b></font>-host<font color="#0000ff"><b>}</b></font>||<font color="#1f32ff">$ENV</font><font color="#0000ff"><b>{</b></font>REGDB_host<font color="#0000ff"><b>}</b></font>;
 <font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>sock<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$params</font><font color="#0000ff"><b>{</b></font>-host<font color="#0000ff"><b>}</b></font>||<font color="#1f32ff">$ENV</font><font color="#0000ff"><b>{</b></font>REGDB_sock<font color="#0000ff"><b>}</b></font>;
 <font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>auxDB<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$params</font><font color="#0000ff"><b>{</b></font>-talkdb<font color="#0000ff"><b>}</b></font>||<font color="#1f32ff">$ENV</font><font color="#0000ff"><b>{</b></font>REGDB_talkdb<font color="#0000ff"><b>}</b></font>;
 <font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>duplicates<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$params</font><font color="#0000ff"><b>{</b></font>-duplicates<font color="#0000ff"><b>}</b></font>||<font color="#007400">'yes'</font>;
 <font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>duplicateevent<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$params</font><font color="#0000ff"><b>{</b></font>-duplicateevent<font color="#0000ff"><b>}</b></font>||<font color="#007400">'silent'</font>;
 <font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>convert_undef<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$params</font><font color="#0000ff"><b>{</b></font>-convert_undef<font color="#0000ff"><b>}</b></font>||<font color="#007400">'no'</font>;<font color="#ff0000">##We are going to use it to enforce strict checks for the data given by the web interface</font><BR> <font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>project<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$params</font><font color="#0000ff"><b>{</b></font>-project<font color="#0000ff"><b>}</b></font>||<font color="#007400">'na'</font>;<font color="#ff0000">##IMPORTANT: If project is unknown only queries are possible!!!</font><BR> <font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$dsn</font>=<font color="#007400">'DBI:'</font>.<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>drv<font color="#0000ff"><b>}</b></font>.<font color="#007400">':database='</font>.<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>dbname<font color="#0000ff"><b>}</b></font>.<font color="#007400">';host='</font>.<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>host<font color="#0000ff"><b>}</b></font>.<font color="#007400">';port=3306'</font>;
 <font color="#1f32ff">$dsn</font> .= <font color="#007400">";mysql_socket=<font color="#1f32ff">$self</font>-&gt;{sock};"</font> <font color="#0000ff"><b>if</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>sock<font color="#0000ff"><b>}</b></font><font color="#0000ff"><b>)</b></font>;
<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>dbh<font color="#0000ff"><b>}</b></font>= <font color="#ff8204">DBI->connect</font><font color="#0000ff"><b>(</b></font><font color="#1f32ff">$dsn</font>,<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>user<font color="#0000ff"><b>}</b></font>, <font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>pass<font color="#0000ff"><b>}</b></font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;
<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>userid<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$params</font><font color="#0000ff"><b>{</b></font>-userid<font color="#0000ff"><b>}</b></font>||<font color="#ff8204">_check_credentials</font><font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font><font color="#0000ff"><b>)</b></font>;
<font color="#4169e1"><b>bless</b></font> <font color="#1f32ff">$self</font>;
<font color="#0000ff"><b>if</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>project<font color="#0000ff"><b>}</b></font> <font color="#0000ff"><b>ne</b></font> <font color="#007400">'na'</font><font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font>
	<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>projectid<font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$params</font><font color="#0000ff"><b>{</b></font>projectid<font color="#0000ff"><b>}</b></font>||<font color="#ff8204">_get_projid</font><font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font><font color="#0000ff"><b>)</b></font>;<font color="#ff0000">## unless ($self-&gt;{userid});</font><BR><font color="#0000ff"><b>}</b></font>
<font color="#0000ff"><b>unless</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$params</font><font color="#0000ff"><b>{</b></font>-nohandles<font color="#0000ff"><b>}</b></font><font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font>
	<font color="#1f32ff">$self</font>=<font color="#ff8204">_init_standard_handles</font><font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font><font color="#0000ff"><b>)</b></font>;
<font color="#0000ff"><b>}</b></font>
<font color="#ff0000">##This should be a param- talk to other DBs if needed</font><BR><font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$add</font>=<font color="#007400">'database='</font>.<font color="#4169e1"><b>lc</b></font><font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>auxDB<font color="#0000ff"><b>}</b></font><font color="#0000ff"><b>)</b></font>.<font color="#007400">';'</font> <font color="#0000ff"><b>if</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>drv<font color="#0000ff"><b>}</b></font> <font color="#0000ff"><b>eq</b></font> <font color="#007400">'mysql'</font><font color="#0000ff"><b>)</b></font>;
<font color="#ff0000">##Todo- make all params here</font><BR><font color="#0000ff"><b>if</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>auxDB<font color="#0000ff"><b>}</b></font><font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font>
	<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>talkdb<font color="#0000ff"><b>}</b></font>=<A HREF="regdb/talk.html"><font color="#8000ff"><b>regdb::talk</b></font></A>-&gt;<font color="#0000ff"><b>new</b></font><font color="#0000ff"><b>(</b></font>DB=&gt;<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>auxDB<font color="#0000ff"><b>}</b></font>,USER=&gt;<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>user<font color="#0000ff"><b>}</b></font>,
		PASS=&gt;<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>pass<font color="#0000ff"><b>}</b></font>,HOST=&gt;<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>host<font color="#0000ff"><b>}</b></font>,ADD=&gt;<font color="#1f32ff">$add</font>,DRV=&gt;<font color="#007400">'mysql'</font>,organism=&gt;<font color="#1f32ff">$params</font><font color="#0000ff"><b>{</b></font>-organism<font color="#0000ff"><b>}</b></font><font color="#0000ff"><b>)</b></font>;
<font color="#0000ff"><b>}</b></font>
<font color="#0000ff"><b>return</b></font> <font color="#1f32ff">$self</font>;</pre>}<BR>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0">
<TR BGCOLOR="#dcab68"><TD WIDTH="200"><A NAME="CODE6"></A><B>add_input</B></TD><TD><A HREF="#POD6">description</A></TD><TD WIDTH="30"><A HREF="#TOP">top</A></TD><TD WIDTH="30"><A HREF="#CODE5">prev</A></TD><TD WIDTH="30"><A HREF="#CODE7">next</A></TD></TR></TABLE>
<font color="#0000ff"><b>sub</b></font> <font color="#ff0000"><b>add_input</b></font>
 {<pre><font color="#0000ff"><b>my</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>,<font color="#1f32ff">$type</font>,<font color="#1f32ff">$id</font><font color="#0000ff"><b>)</b></font>=<font color="#1f32ff">@_</font>;
<font color="#ff0000">##Check for types here!</font><BR><font color="#4169e1"><b>push</b></font> @<font color="#0000ff"><b>{</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>input<font color="#0000ff"><b>}</b></font>-&gt;<font color="#0000ff"><b>{</b></font><font color="#1f32ff">$type</font><font color="#0000ff"><b>}</b></font><font color="#0000ff"><b>}</b></font>,<font color="#1f32ff">$id</font>;</pre>}<BR>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0">
<TR BGCOLOR="#dcab68"><TD WIDTH="200"><A NAME="CODE7"></A><B>add_output</B></TD><TD><A HREF="#POD7">description</A></TD><TD WIDTH="30"><A HREF="#TOP">top</A></TD><TD WIDTH="30"><A HREF="#CODE6">prev</A></TD><TD WIDTH="30"><A HREF="#CODE8">next</A></TD></TR></TABLE>
<font color="#0000ff"><b>sub</b></font> <font color="#ff0000"><b>add_output</b></font>
 {<pre><font color="#0000ff"><b>my</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>,<font color="#1f32ff">$type</font>,<font color="#1f32ff">$id</font><font color="#0000ff"><b>)</b></font>=<font color="#1f32ff">@_</font>;
<font color="#ff0000">##Check for types here!</font><BR><font color="#4169e1"><b>push</b></font> @<font color="#0000ff"><b>{</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>output<font color="#0000ff"><b>}</b></font>-&gt;<font color="#0000ff"><b>{</b></font><font color="#1f32ff">$type</font><font color="#0000ff"><b>}</b></font><font color="#0000ff"><b>}</b></font>,<font color="#1f32ff">$id</font>;</pre>}<BR>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0">
<TR BGCOLOR="#dcab68"><TD WIDTH="200"><A NAME="CODE8"></A><B>concat_array</B></TD><TD>description</TD><TD WIDTH="30"><A HREF="#TOP">top</A></TD><TD WIDTH="30"><A HREF="#CODE7">prev</A></TD><TD WIDTH="30"><A HREF="#CODE9">next</A></TD></TR></TABLE>
<font color="#0000ff"><b>sub</b></font> <font color="#ff0000"><b>concat_array</b></font>
 {<pre><font color="#0000ff"><b>my</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>,<font color="#1f32ff">$arr</font><font color="#0000ff"><b>)</b></font>=<font color="#1f32ff">@_</font>;
<font color="#0000ff"><b>my</b></font> <font color="#1f32ff">@res</font>;
<font color="#0000ff"><b>foreach</b></font> <font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$row</font> <font color="#0000ff"><b>(</b></font>@$arr<font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font>
    <font color="#4169e1"><b>push</b></font> <font color="#1f32ff">@res</font>,<font color="#1f32ff">$row</font>-&gt;<font color="#0000ff"><b>[</b></font>0<font color="#0000ff"><b>]</b></font>;
<font color="#0000ff"><b>}</b></font>
<font color="#0000ff"><b>return</b></font> <font color="#1f32ff">@res</font>;</pre>}<BR>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0">
<TR BGCOLOR="#dcab68"><TD WIDTH="200"><A NAME="CODE9"></A><B>current_key</B></TD><TD><A HREF="#POD8">description</A></TD><TD WIDTH="30"><A HREF="#TOP">top</A></TD><TD WIDTH="30"><A HREF="#CODE8">prev</A></TD><TD WIDTH="30"><A HREF="#CODE10">next</A></TD></TR></TABLE>
<font color="#0000ff"><b>sub</b></font> <font color="#ff0000"><b>current_key</b></font>
 {<pre><font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$self</font>=<font color="#4169e1"><b>shift</b></font>;
<font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$table</font>=<font color="#4169e1"><b>shift</b></font>;
<font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$pkey</font>=<font color="#1f32ff">$table</font> . <font color="#007400">'_id'</font>;
<font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$prev</font>=<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font><font color="#1f32ff">$pkey</font><font color="#0000ff"><b>}</b></font>;
<font color="#0000ff"><b>if</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">@_</font><font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font> <font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font><font color="#1f32ff">$pkey</font><font color="#0000ff"><b>}</b></font> = <font color="#4169e1"><b>shift</b></font>; <font color="#0000ff"><b>}</b></font>
    <font color="#0000ff"><b>return</b></font> <font color="#1f32ff">$prev</font>;</pre>}<BR>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0">
<TR BGCOLOR="#dcab68"><TD WIDTH="200"><A NAME="CODE10"></A><B>get_all_inputs</B></TD><TD>description</TD><TD WIDTH="30"><A HREF="#TOP">top</A></TD><TD WIDTH="30"><A HREF="#CODE9">prev</A></TD><TD WIDTH="30"><A HREF="#CODE11">next</A></TD></TR></TABLE>
<font color="#0000ff"><b>sub</b></font> <font color="#ff0000"><b>get_all_inputs</b></font>
 {<pre><font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$self</font>=<font color="#4169e1"><b>shift</b></font>;
<font color="#0000ff"><b>return</b></font> %<font color="#0000ff"><b>{</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>input<font color="#0000ff"><b>}</b></font><font color="#0000ff"><b>}</b></font>;</pre>}<BR>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0">
<TR BGCOLOR="#dcab68"><TD WIDTH="200"><A NAME="CODE11"></A><B>get_all_outputs</B></TD><TD>description</TD><TD WIDTH="30"><A HREF="#TOP">top</A></TD><TD WIDTH="30"><A HREF="#CODE10">prev</A></TD><TD WIDTH="30"><A HREF="#CODE12">next</A></TD></TR></TABLE>
<font color="#0000ff"><b>sub</b></font> <font color="#ff0000"><b>get_all_outputs</b></font>
 {<pre><font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$self</font>=<font color="#4169e1"><b>shift</b></font>;
<font color="#0000ff"><b>return</b></font> %<font color="#0000ff"><b>{</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>output<font color="#0000ff"><b>}</b></font><font color="#0000ff"><b>}</b></font>;</pre>}<BR>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0">
<TR BGCOLOR="#dcab68"><TD WIDTH="200"><A NAME="CODE12"></A><B>get_current_id</B></TD><TD>description</TD><TD WIDTH="30"><A HREF="#TOP">top</A></TD><TD WIDTH="30"><A HREF="#CODE11">prev</A></TD><TD WIDTH="30"><A HREF="#CODE13">next</A></TD></TR></TABLE>
<font color="#0000ff"><b>sub</b></font> <font color="#ff0000"><b>get_current_id</b></font>
 {<pre><font color="#0000ff"><b>my</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>,<font color="#1f32ff">$type</font><font color="#0000ff"><b>)</b></font>=<font color="#1f32ff">@_</font>;
<font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$idkey</font>=<font color="#1f32ff">$type</font> . <font color="#007400">'_id'</font>;
<font color="#0000ff"><b>return</b></font> <font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font><font color="#1f32ff">$idkey</font><font color="#0000ff"><b>}</b></font>;</pre>}<BR>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0">
<TR BGCOLOR="#dcab68"><TD WIDTH="200"><A NAME="CODE13"></A><B>get_data_by_primary_key</B></TD><TD><A HREF="#POD9">description</A></TD><TD WIDTH="30"><A HREF="#TOP">top</A></TD><TD WIDTH="30"><A HREF="#CODE12">prev</A></TD><TD WIDTH="30"><A HREF="#CODE14">next</A></TD></TR></TABLE>
<font color="#0000ff"><b>sub</b></font> <font color="#ff0000"><b>get_data_by_primary_key</b></font>
 {<pre><font color="#0000ff"><b>my</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>,<font color="#1f32ff">$table</font>,<font color="#1f32ff">$pkey</font><font color="#0000ff"><b>)</b></font>=<font color="#1f32ff">@_</font>;
<font color="#0000ff"><b>unless</b></font> <font color="#0000ff"><b>(</b></font><font color="#0000ff"><b>(</b></font><font color="#1f32ff">$table</font><font color="#0000ff"><b>)</b></font>&amp;&amp;<font color="#0000ff"><b>(</b></font><font color="#1f32ff">$pkey</font><font color="#0000ff"><b>)</b></font><font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font> <font color="#4169e1"><b>warn</b></font> <font color="#007400">"No sufficient data provided <font color="#1f32ff">$table</font> <font color="#1f32ff">$pkey</font>"</font>; <font color="#0000ff"><b>return</b></font> <font color="#4169e1"><b>undef</b></font>;<font color="#0000ff"><b>}</b></font>
<font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$debug</font>=<font color="#007400">"<font color="#1f32ff">$table</font>:<font color="#1f32ff">$pkey</font>"</font>;
<font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$handlename</font>=<font color="#1f32ff">$table</font> . <font color="#007400">'_dat'</font>;
<font color="#0000ff"><b>eval</b></font> <font color="#0000ff"><b>{</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font><font color="#1f32ff">$handlename</font><font color="#0000ff"><b>}</b></font>-&gt;<font color="#ff8204">execute</font><font color="#0000ff"><b>(</b></font><font color="#1f32ff">$pkey</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;<font color="#0000ff"><b>}</b></font>;
<font color="#0000ff"><b>if</b></font> <font color="#0000ff"><b>(</b></font>$@<font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font><font color="#4169e1"><b>die</b></font> <font color="#007400">"<font color="#1f32ff">$handlename</font> : <font color="#1f32ff">$pkey</font>"</font>;<font color="#0000ff"><b>}</b></font>
<font color="#0000ff"><b>my</b></font> <font color="#1f32ff">@dat</font>=<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font><font color="#1f32ff">$handlename</font><font color="#0000ff"><b>}</b></font>-&gt;fetchrow_array;
<font color="#ff0000">##warn join(':',$table,$pkey,@dat);</font><BR><font color="#4169e1"><b>shift</b></font> <font color="#1f32ff">@dat</font>; <font color="#ff0000">##Remove pkey</font><BR><font color="#ff0000">##warn join(':',$table,$pkey,@dat);</font><BR><font color="#0000ff"><b>return</b></font> <font color="#1f32ff">@dat</font>;</pre>}<BR>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0">
<TR BGCOLOR="#dcab68"><TD WIDTH="200"><A NAME="CODE14"></A><B>get_primary_key</B></TD><TD><A HREF="#POD10">description</A></TD><TD WIDTH="30"><A HREF="#TOP">top</A></TD><TD WIDTH="30"><A HREF="#CODE13">prev</A></TD><TD WIDTH="30"><A HREF="#CODE15">next</A></TD></TR></TABLE>
<font color="#0000ff"><b>sub</b></font> <font color="#ff0000"><b>get_primary_key</b></font>
 {<pre><font color="#0000ff"><b>my</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>,<font color="#1f32ff">$table</font>,<font color="#1f32ff">@args</font><font color="#0000ff"><b>)</b></font>=<font color="#1f32ff">@_</font>;
<font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$arr</font>=<font color="#4169e1"><b>wantarray</b></font>;
<font color="#0000ff"><b>my</b></font> <font color="#1f32ff">@ids</font>;
<font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$handlename</font>=<font color="#1f32ff">$table</font> . <font color="#007400">'_q'</font>;
<font color="#ff0000">##warn join(':',@args,'table',$table,'handle',$handlename);</font><BR><font color="#0000ff"><b>eval</b></font> <font color="#0000ff"><b>{</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font><font color="#1f32ff">$handlename</font><font color="#0000ff"><b>}</b></font>-&gt;<font color="#ff8204">execute</font><font color="#0000ff"><b>(</b></font><font color="#1f32ff">@args</font><font color="#0000ff"><b>)</b></font>|| <font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;<font color="#0000ff"><b>}</b></font>;
<font color="#0000ff"><b>if</b></font> <font color="#0000ff"><b>(</b></font>$@<font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font>
    <font color="#4169e1"><b>warn</b></font> <font color="#4169e1"><b>join</b></font><font color="#0000ff"><b>(</b></font><font color="#007400">':'</font>,<font color="#1f32ff">@args</font>,<font color="#007400">'table'</font>,<font color="#1f32ff">$table</font>,<font color="#1f32ff">$handlename</font><font color="#0000ff"><b>)</b></font>;
    <font color="#4169e1"><b>die</b></font> $@;
<font color="#0000ff"><b>}</b></font>
<font color="#0000ff"><b>while</b></font> <font color="#0000ff"><b>(</b></font><font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$id</font>=<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font><font color="#1f32ff">$handlename</font><font color="#0000ff"><b>}</b></font>-&gt;fetchrow_array<font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font>
    <font color="#4169e1"><b>push</b></font> <font color="#1f32ff">@ids</font>,<font color="#1f32ff">$id</font>;
    <font color="#ff0000">##warn '|Found $table|';</font><BR><font color="#0000ff"><b>}</b></font>
<font color="#0000ff"><b>if</b></font> <font color="#0000ff"><b>(</b></font><font color="#0000ff"><b>(</b></font><font color="#1f32ff">@ids</font>&gt;1<font color="#0000ff"><b>)</b></font>&amp;&amp;<font color="#0000ff"><b>(</b></font>!<font color="#1f32ff">$arr</font><font color="#0000ff"><b>)</b></font><font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font><font color="#4169e1"><b>warn</b></font> <font color="#007400">"Query returned multiple values, first one <font color="#1f32ff">$ids</font>[0]\n"</font>;<font color="#0000ff"><b>}</b></font>
<font color="#0000ff"><b>return</b></font> <font color="#1f32ff">$arr</font>?<font color="#1f32ff">@ids</font>:<font color="#1f32ff">$ids</font><font color="#0000ff"><b>[</b></font>0<font color="#0000ff"><b>]</b></font>;</pre>}<BR>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0">
<TR BGCOLOR="#dcab68"><TD WIDTH="200"><A NAME="CODE15"></A><B>get_projectid</B></TD><TD>description</TD><TD WIDTH="30"><A HREF="#TOP">top</A></TD><TD WIDTH="30"><A HREF="#CODE14">prev</A></TD><TD WIDTH="30"><A HREF="#CODE16">next</A></TD></TR></TABLE>
<font color="#0000ff"><b>sub</b></font> <font color="#ff0000"><b>get_projectid</b></font>
 {<pre>	<font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$self</font>=<font color="#4169e1"><b>shift</b></font>;
	<font color="#0000ff"><b>return</b></font> <font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>projectid<font color="#0000ff"><b>}</b></font>;</pre>}<BR>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0">
<TR BGCOLOR="#dcab68"><TD WIDTH="200"><A NAME="CODE16"></A><B>insert_ind_hash</B></TD><TD>description</TD><TD WIDTH="30"><A HREF="#TOP">top</A></TD><TD WIDTH="30"><A HREF="#CODE15">prev</A></TD><TD WIDTH="30"><A HREF="#CODE17">next</A></TD></TR></TABLE>
<font color="#0000ff"><b>sub</b></font> <font color="#ff0000"><b>insert_ind_hash</b></font>
 {<pre>	<font color="#0000ff"><b>my</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>,<font color="#1f32ff">$table</font>,<font color="#1f32ff">%dat</font><font color="#0000ff"><b>)</b></font>=<font color="#1f32ff">@_</font>;
	<font color="#0000ff"><b>my</b></font> <font color="#1f32ff">@odat</font>;
	<font color="#1f32ff">$table</font>=<font color="#4169e1"><b>lc</b></font><font color="#0000ff"><b>(</b></font><font color="#1f32ff">$table</font><font color="#0000ff"><b>)</b></font>;
	<font color="#0000ff"><b>foreach</b></font> <font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$key</font> <font color="#0000ff"><b>(</b></font><font color="#4169e1"><b>keys</b></font> %<font color="#0000ff"><b>{</b></font><font color="#1f32ff">$dat</font><font color="#0000ff"><b>{</b></font>ind<font color="#0000ff"><b>}</b></font><font color="#0000ff"><b>}</b></font><font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font>
		<font color="#1f32ff">$odat</font><font color="#0000ff"><b>[</b></font><font color="#1f32ff">$dat</font><font color="#0000ff"><b>{</b></font>ind<font color="#0000ff"><b>}</b></font><font color="#0000ff"><b>{</b></font><font color="#1f32ff">$key</font><font color="#0000ff"><b>}</b></font><font color="#0000ff"><b>]</b></font>=<font color="#1f32ff">$dat</font><font color="#0000ff"><b>{</b></font>dat<font color="#0000ff"><b>}</b></font><font color="#0000ff"><b>{</b></font><font color="#1f32ff">$key</font><font color="#0000ff"><b>}</b></font>;
	<font color="#0000ff"><b>}</b></font>
	<font color="#0000ff"><b>return</b></font> <font color="#1f32ff">$self</font>-&gt;<font color="#ff8204">table_insert</font><font color="#0000ff"><b>(</b></font><font color="#1f32ff">$table</font>,<font color="#1f32ff">@odat</font><font color="#0000ff"><b>)</b></font>;</pre>}<BR>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0">
<TR BGCOLOR="#dcab68"><TD WIDTH="200"><A NAME="CODE17"></A><B>join_project</B></TD><TD><A HREF="#POD11">description</A></TD><TD WIDTH="30"><A HREF="#TOP">top</A></TD><TD WIDTH="30"><A HREF="#CODE16">prev</A></TD><TD WIDTH="30"><A HREF="#CODE18">next</A></TD></TR></TABLE>
<font color="#0000ff"><b>sub</b></font> <font color="#ff0000"><b>join_project</b></font>
 {<pre>	<font color="#0000ff"><b>my</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>,<font color="#1f32ff">$uid</font>,<font color="#1f32ff">$pid</font><font color="#0000ff"><b>)</b></font>=<font color="#1f32ff">@_</font>;
	<font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$chkuseridh</font>=<font color="#1f32ff">$self</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select count(*) from users where user_id=<font color="#1f32ff">$uid</font>"</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font>;
	<font color="#1f32ff">$chkuseridh</font>-&gt;execute||die;
	<font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$c</font>=<font color="#1f32ff">$chkuseridh</font>-&gt;fetchrow_array;
	<font color="#0000ff"><b>unless</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$c</font>==1<font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font> <font color="#4169e1"><b>die</b></font> <font color="#007400">"Authorization error joining a project"</font>; <font color="#0000ff"><b>}</b></font>
	<font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$jh</font>=<font color="#1f32ff">$self</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"insert into user_project (user_id,project_id) values ('$uid','$pid')"</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font>;
	<font color="#1f32ff">$jh</font>-&gt;execute||die;</pre>}<BR>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0">
<TR BGCOLOR="#dcab68"><TD WIDTH="200"><A NAME="CODE18"></A><B>my_projects</B></TD><TD><A HREF="#POD12">description</A></TD><TD WIDTH="30"><A HREF="#TOP">top</A></TD><TD WIDTH="30"><A HREF="#CODE17">prev</A></TD><TD WIDTH="30"><A HREF="#CODE19">next</A></TD></TR></TABLE>
<font color="#0000ff"><b>sub</b></font> <font color="#ff0000"><b>my_projects</b></font>
 {<pre>	<font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$self</font>=<font color="#4169e1"><b>shift</b></font>;
	<font color="#0000ff"><b>return</b></font> <font color="#4169e1"><b>undef</b></font> <font color="#0000ff"><b>unless</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>user_id<font color="#0000ff"><b>}</b></font><font color="#0000ff"><b>)</b></font>;
	<font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$mp</font>=<font color="#1f32ff">$self</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select project_id from user_project where user_id=?"</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font>;
	<font color="#1f32ff">$mp</font>-&gt;<font color="#ff8204">execute</font><font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>user_id<font color="#0000ff"><b>}</b></font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font>;
	<font color="#0000ff"><b>my</b></font> <font color="#1f32ff">@res</font>;
	<font color="#0000ff"><b>while</b></font> <font color="#0000ff"><b>(</b></font><font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$row</font>=<font color="#1f32ff">$mp</font>-&gt;fetchrow_array<font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font>
		<font color="#4169e1"><b>push</b></font> <font color="#1f32ff">@res</font>,<font color="#1f32ff">$mp</font>;
	<font color="#0000ff"><b>}</b></font>
	<font color="#0000ff"><b>return</b></font> <font color="#1f32ff">@res</font>;</pre>}<BR>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0">
<TR BGCOLOR="#dcab68"><TD WIDTH="200"><A NAME="CODE19"></A><B>new</B></TD><TD>description</TD><TD WIDTH="30"><A HREF="#TOP">top</A></TD><TD WIDTH="30"><A HREF="#CODE18">prev</A></TD><TD WIDTH="30"><A HREF="#CODE20">next</A></TD></TR></TABLE>
<font color="#0000ff"><b>sub</b></font> <font color="#ff0000"><b>new</b></font>
 {<pre><font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$self</font>;
<font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$class</font>=<font color="#4169e1"><b>shift</b></font>;
<font color="#0000ff"><b>eval</b></font> <font color="#0000ff"><b>{</b></font> <font color="#1f32ff">$self</font>=<font color="#ff8204">_initialize</font><font color="#0000ff"><b>(</b></font><font color="#1f32ff">@_</font><font color="#0000ff"><b>)</b></font>; <font color="#0000ff"><b>}</b></font>;
<font color="#0000ff"><b>if</b></font> <font color="#0000ff"><b>(</b></font>$@<font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font> 
    <font color="#4169e1"><b>die</b></font> <font color="#007400">"Database did not initialize because: $@\n"</font>; 
<font color="#0000ff"><b>}</b></font>
<font color="#0000ff"><b>return</b></font> <font color="#1f32ff">$self</font>;</pre>}<BR>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0">
<TR BGCOLOR="#dcab68"><TD WIDTH="200"><A NAME="CODE20"></A><B>open_projects</B></TD><TD><A HREF="#POD13">description</A></TD><TD WIDTH="30"><A HREF="#TOP">top</A></TD><TD WIDTH="30"><A HREF="#CODE19">prev</A></TD><TD WIDTH="30"><A HREF="#CODE21">next</A></TD></TR></TABLE>
<font color="#0000ff"><b>sub</b></font> <font color="#ff0000"><b>open_projects</b></font>
 {<pre><font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$self</font>=<font color="#4169e1"><b>shift</b></font>;
<font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$mp</font>=<font color="#1f32ff">$self</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select project_id from project where status='open'"</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font>;
	<font color="#1f32ff">$mp</font>-&gt;<font color="#ff8204">execute</font><font color="#0000ff"><b>(</b></font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font>;
	<font color="#0000ff"><b>my</b></font> <font color="#1f32ff">@res</font>;
	<font color="#0000ff"><b>while</b></font> <font color="#0000ff"><b>(</b></font><font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$row</font>=<font color="#1f32ff">$mp</font>-&gt;fetchrow_array<font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font>
		<font color="#4169e1"><b>push</b></font> <font color="#1f32ff">@res</font>,<font color="#1f32ff">$row</font>;
	<font color="#0000ff"><b>}</b></font>
	<font color="#0000ff"><b>return</b></font> <font color="#1f32ff">@res</font>;</pre>}<BR>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0">
<TR BGCOLOR="#dcab68"><TD WIDTH="200"><A NAME="CODE21"></A><B>prepare</B></TD><TD><A HREF="#POD14">description</A></TD><TD WIDTH="30"><A HREF="#TOP">top</A></TD><TD WIDTH="30"><A HREF="#CODE20">prev</A></TD><TD WIDTH="30"><A HREF="#CODE22">next</A></TD></TR></TABLE>
<font color="#0000ff"><b>sub</b></font> <font color="#ff0000"><b>prepare</b></font>
 {<pre><font color="#0000ff"><b>my</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>,<font color="#1f32ff">$str</font><font color="#0000ff"><b>)</b></font>=<font color="#1f32ff">@_</font>;
<font color="#0000ff"><b>return</b></font> <font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>dbh<font color="#0000ff"><b>}</b></font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#1f32ff">$str</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr;</pre>}<BR>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0">
<TR BGCOLOR="#dcab68"><TD WIDTH="200"><A NAME="CODE22"></A><B>public_projects</B></TD><TD><A HREF="#POD15">description</A></TD><TD WIDTH="30"><A HREF="#TOP">top</A></TD><TD WIDTH="30"><A HREF="#CODE21">prev</A></TD><TD WIDTH="30"><A HREF="#CODE23">next</A></TD></TR></TABLE>
<font color="#0000ff"><b>sub</b></font> <font color="#ff0000"><b>public_projects</b></font>
 {<pre><font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$self</font>=<font color="#4169e1"><b>shift</b></font>;
<font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$mp</font>=<font color="#1f32ff">$self</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"select project_id from project where status&lt;&gt;'retsricted'"</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font>;
	<font color="#1f32ff">$mp</font>-&gt;<font color="#ff8204">execute</font><font color="#0000ff"><b>(</b></font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font>;
	<font color="#0000ff"><b>my</b></font> <font color="#1f32ff">@res</font>;
	<font color="#0000ff"><b>while</b></font> <font color="#0000ff"><b>(</b></font><font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$row</font>=<font color="#1f32ff">$mp</font>-&gt;fetchrow_array<font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font>
		<font color="#4169e1"><b>push</b></font> <font color="#1f32ff">@res</font>,<font color="#1f32ff">$row</font>;
	<font color="#0000ff"><b>}</b></font>
	<font color="#0000ff"><b>return</b></font> <font color="#1f32ff">@res</font>;</pre>}<BR>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0">
<TR BGCOLOR="#dcab68"><TD WIDTH="200"><A NAME="CODE23"></A><B>remove_input</B></TD><TD><A HREF="#POD16">description</A></TD><TD WIDTH="30"><A HREF="#TOP">top</A></TD><TD WIDTH="30"><A HREF="#CODE22">prev</A></TD><TD WIDTH="30"><A HREF="#CODE24">next</A></TD></TR></TABLE>
<font color="#0000ff"><b>sub</b></font> <font color="#ff0000"><b>remove_input</b></font>
 {<pre><font color="#0000ff"><b>my</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>,<font color="#1f32ff">$type</font><font color="#0000ff"><b>)</b></font>=<font color="#1f32ff">@_</font>;
<font color="#ff0000">##Check for types here!</font><BR><font color="#4169e1"><b>delete</b></font> <font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>input<font color="#0000ff"><b>}</b></font>-&gt;<font color="#0000ff"><b>{</b></font><font color="#1f32ff">$type</font><font color="#0000ff"><b>}</b></font>;</pre>}<BR>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0">
<TR BGCOLOR="#dcab68"><TD WIDTH="200"><A NAME="CODE24"></A><B>remove_output</B></TD><TD><A HREF="#POD17">description</A></TD><TD WIDTH="30"><A HREF="#TOP">top</A></TD><TD WIDTH="30"><A HREF="#CODE23">prev</A></TD><TD WIDTH="30"><A HREF="#CODE25">next</A></TD></TR></TABLE>
<font color="#0000ff"><b>sub</b></font> <font color="#ff0000"><b>remove_output</b></font>
 {<pre><font color="#0000ff"><b>my</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>,<font color="#1f32ff">$type</font><font color="#0000ff"><b>)</b></font>=<font color="#1f32ff">@_</font>;
<font color="#ff0000">##Check for types here!</font><BR><font color="#4169e1"><b>delete</b></font> <font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>output<font color="#0000ff"><b>}</b></font>-&gt;<font color="#0000ff"><b>{</b></font><font color="#1f32ff">$type</font><font color="#0000ff"><b>}</b></font>;</pre>}<BR>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0">
<TR BGCOLOR="#dcab68"><TD WIDTH="200"><A NAME="CODE25"></A><B>reset_inputs</B></TD><TD>description</TD><TD WIDTH="30"><A HREF="#TOP">top</A></TD><TD WIDTH="30"><A HREF="#CODE24">prev</A></TD><TD WIDTH="30"><A HREF="#CODE26">next</A></TD></TR></TABLE>
<font color="#0000ff"><b>sub</b></font> <font color="#ff0000"><b>reset_inputs</b></font>
 {<pre><font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$self</font>=<font color="#4169e1"><b>shift</b></font>;
<font color="#0000ff"><b>foreach</b></font> <font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$in</font> <font color="#0000ff"><b>(</b></font><font color="#4169e1"><b>keys</b></font> %<font color="#0000ff"><b>{</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>input<font color="#0000ff"><b>}</b></font><font color="#0000ff"><b>}</b></font><font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font>
	<font color="#1f32ff">$self</font>-&gt;<font color="#ff8204">remove_input</font><font color="#0000ff"><b>(</b></font><font color="#1f32ff">$in</font><font color="#0000ff"><b>)</b></font>;
<font color="#0000ff"><b>}</b></font></pre>}<BR>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0">
<TR BGCOLOR="#dcab68"><TD WIDTH="200"><A NAME="CODE26"></A><B>reset_outputs</B></TD><TD>description</TD><TD WIDTH="30"><A HREF="#TOP">top</A></TD><TD WIDTH="30"><A HREF="#CODE25">prev</A></TD><TD WIDTH="30"><A HREF="#CODE27">next</A></TD></TR></TABLE>
<font color="#0000ff"><b>sub</b></font> <font color="#ff0000"><b>reset_outputs</b></font>
 {<pre><font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$self</font>=<font color="#4169e1"><b>shift</b></font>;
<font color="#0000ff"><b>foreach</b></font> <font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$out</font> <font color="#0000ff"><b>(</b></font><font color="#4169e1"><b>keys</b></font> %<font color="#0000ff"><b>{</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>output<font color="#0000ff"><b>}</b></font><font color="#0000ff"><b>}</b></font><font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font>
	<font color="#1f32ff">$self</font>-&gt;<font color="#ff8204">remove_output</font><font color="#0000ff"><b>(</b></font><font color="#1f32ff">$out</font><font color="#0000ff"><b>)</b></font>;
<font color="#0000ff"><b>}</b></font></pre>}<BR>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0">
<TR BGCOLOR="#dcab68"><TD WIDTH="200"><A NAME="CODE27"></A><B>table_insert</B></TD><TD><A HREF="#POD18">description</A></TD><TD WIDTH="30"><A HREF="#TOP">top</A></TD><TD WIDTH="30"><A HREF="#CODE26">prev</A></TD><TD WIDTH="30"><A HREF="#CODE28">next</A></TD></TR></TABLE>
<font color="#0000ff"><b>sub</b></font> <font color="#ff0000"><b>table_insert</b></font>
 {<pre><font color="#0000ff"><b>my</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>,<font color="#1f32ff">$table</font>,<font color="#1f32ff">@args</font><font color="#0000ff"><b>)</b></font>=<font color="#1f32ff">@_</font>;
<font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$check</font>;
<font color="#0000ff"><b>foreach</b></font> <font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$arg</font><font color="#0000ff"><b>(</b></font><font color="#1f32ff">@args</font><font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font>
    <font color="#1f32ff">$check</font>=<font color="#1f32ff">$arg</font>||<font color="#1f32ff">$check</font>;
<font color="#0000ff"><b>}</b></font>
<font color="#4169e1"><b>die</b></font> <font color="#007400">'No arguments provided in table insert|'</font> . <font color="#4169e1"><b>join</b></font><font color="#0000ff"><b>(</b></font><font color="#007400">':'</font>,<font color="#1f32ff">$table</font>,<font color="#1f32ff">@args</font><font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>unless</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$check</font><font color="#0000ff"><b>)</b></font>;
<font color="#ff0000">##warn join (&quot;-&quot;,$id,$table,@args);</font><BR><font color="#4169e1"><b>die</b></font> <font color="#007400">"Cannot insert data. No project is assigned to you at this moment.
Re-login if you have proper account and try again\n"</font> <font color="#0000ff"><b>if</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>project<font color="#0000ff"><b>}</b></font> <font color="#0000ff"><b>eq</b></font> <font color="#007400">'na'</font><font color="#0000ff"><b>)</b></font>;
<font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$handlename</font>=<font color="#1f32ff">$table</font> . <font color="#007400">'_i'</font>;
<font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$idname</font>=<font color="#1f32ff">$table</font> . <font color="#007400">'_id'</font>;
<font color="#4169e1"><b>die</b></font> <font color="#007400">"Operation not permitted or table <font color="#1f32ff">$table</font> does not exist\n"</font> <font color="#0000ff"><b>unless</b></font> <font color="#0000ff"><b>(</b></font><font color="#4169e1"><b>exists</b></font><font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font><font color="#1f32ff">$handlename</font><font color="#0000ff"><b>}</b></font><font color="#0000ff"><b>)</b></font><font color="#0000ff"><b>)</b></font>;
<font color="#0000ff"><b>foreach</b></font> <font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$in</font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">@args</font><font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font>
    <font color="#0000ff"><b>unless</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$in</font><font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font>
        <font color="#ff0000">##warn &quot;Not defined value detected\n&quot;;</font><BR>        <font color="#1f32ff">$in</font>=0;
    <font color="#0000ff"><b>}</b></font>
<font color="#0000ff"><b>}</b></font>
<font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$id</font>=<font color="#1f32ff">$self</font>-&gt;<font color="#ff8204">get_primary_key</font><font color="#0000ff"><b>(</b></font><font color="#1f32ff">$table</font>,<font color="#1f32ff">@args</font><font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>unless</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$table</font> <font color="#0000ff"><b>eq</b></font> <font color="#007400">'matrix'</font><font color="#0000ff"><b>)</b></font>; <font color="#ff0000">##Special case because of compression</font><BR><font color="#0000ff"><b>if</b></font> <font color="#0000ff"><b>(</b></font><font color="#0000ff"><b>(</b></font><font color="#1f32ff">$id</font><font color="#0000ff"><b>)</b></font>&amp;&amp;<font color="#0000ff"><b>(</b></font><font color="#4169e1"><b>grep</b></font><font color="#0000ff"><b>(</b></font><font color="#006400"><b>/</b></font><font color="#1f32ff">$table</font><font color="#006400"><b>/</b></font>,<font color="#1f32ff">@regdb</font>::utables<font color="#0000ff"><b>)</b></font><font color="#0000ff"><b>)</b></font><font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font><font color="#ff0000">##Some tables are not meant to be reused, atkes precedence</font><BR>	<font color="#4169e1"><b>die</b></font> <font color="#007400">"Duplicated insert for table <font color="#1f32ff">$table</font>: key <font color="#1f32ff">$id</font>"</font>;
<font color="#0000ff"><b>}</b></font>
<font color="#0000ff"><b>if</b></font> <font color="#0000ff"><b>(</b></font><font color="#0000ff"><b>(</b></font><font color="#1f32ff">$id</font><font color="#0000ff"><b>)</b></font>&amp;&amp;<font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>duplicates<font color="#0000ff"><b>}</b></font> <font color="#0000ff"><b>eq</b></font> <font color="#007400">'yes'</font><font color="#0000ff"><b>)</b></font><font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font>
    <font color="#4169e1"><b>warn</b></font> <font color="#007400">"ID <font color="#1f32ff">$id</font> returned prematurely in <font color="#1f32ff">$table</font>?"</font> <font color="#0000ff"><b>if</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>duplicateevent<font color="#0000ff"><b>}</b></font> <font color="#0000ff"><b>eq</b></font> <font color="#007400">'warn'</font><font color="#0000ff"><b>)</b></font> ; 
    <font color="#0000ff"><b>return</b></font> <font color="#1f32ff">$id</font>;
<font color="#0000ff"><b>}</b></font>

<font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$debug</font>=<font color="#4169e1"><b>join</b></font><font color="#0000ff"><b>(</b></font><font color="#007400">':'</font>,<font color="#1f32ff">@args</font>,<font color="#007400">'table'</font>,<font color="#1f32ff">$table</font>,<font color="#007400">'handle'</font>,<font color="#1f32ff">$handlename</font>,<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font><font color="#1f32ff">$handlename</font><font color="#0000ff"><b>}</b></font><font color="#0000ff"><b>)</b></font>;
<font color="#0000ff"><b>eval</b></font> <font color="#0000ff"><b>{</b></font><font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font><font color="#1f32ff">$handlename</font><font color="#0000ff"><b>}</b></font>-&gt;<font color="#ff8204">execute</font><font color="#0000ff"><b>(</b></font><font color="#1f32ff">@args</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font> <font color="#1f32ff">$DBI</font>::errstr . <font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font><font color="#1f32ff">$handlename</font><font color="#0000ff"><b>}</b></font>;<font color="#0000ff"><b>}</b></font>;
<font color="#0000ff"><b>if</b></font> <font color="#0000ff"><b>(</b></font>$@<font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font> <font color="#4169e1"><b>print</b></font> $@ . <font color="#1f32ff">$debug</font> ; <font color="#4169e1"><b>die</b></font> $@ . <font color="#1f32ff">$debug</font> ; <font color="#0000ff"><b>}</b></font>
<font color="#1f32ff">$id</font>=<font color="#1f32ff">$self</font>-&gt;<font color="#ff8204">get_primary_key</font><font color="#0000ff"><b>(</b></font><font color="#1f32ff">$table</font>,<font color="#1f32ff">@args</font><font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>unless</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$table</font> <font color="#0000ff"><b>eq</b></font> <font color="#007400">'matrix'</font><font color="#0000ff"><b>)</b></font>;
<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font><font color="#1f32ff">$idname</font><font color="#0000ff"><b>}</b></font>=<font color="#1f32ff">$id</font>;
<font color="#0000ff"><b>unless</b></font> <font color="#0000ff"><b>(</b></font><font color="#0000ff"><b>(</b></font><font color="#1f32ff">$id</font><font color="#0000ff"><b>)</b></font>||<font color="#0000ff"><b>(</b></font><font color="#1f32ff">$table</font> <font color="#0000ff"><b>eq</b></font> <font color="#007400">'matrix'</font><font color="#0000ff"><b>)</b></font><font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font>
    <font color="#4169e1"><b>warn</b></font> <font color="#4169e1"><b>join</b></font> <font color="#0000ff"><b>(</b></font><font color="#007400">":"</font>,<font color="#1f32ff">$id</font>,<font color="#1f32ff">$table</font>,<font color="#1f32ff">@args</font><font color="#0000ff"><b>)</b></font>;
    <font color="#4169e1"><b>die</b></font> <font color="#007400">'Insert did not succceed'</font>;
<font color="#0000ff"><b>}</b></font>
<font color="#0000ff"><b>return</b></font> <font color="#1f32ff">$id</font>;</pre>}<BR>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0">
<TR BGCOLOR="#dcab68"><TD WIDTH="200"><A NAME="CODE28"></A><B>table_order</B></TD><TD><A HREF="#POD19">description</A></TD><TD WIDTH="30"><A HREF="#TOP">top</A></TD><TD WIDTH="30"><A HREF="#CODE27">prev</A></TD><TD WIDTH="30"><A HREF="#CODE29">next</A></TD></TR></TABLE>
<font color="#0000ff"><b>sub</b></font> <font color="#ff0000"><b>table_order</b></font>
 {<pre><font color="#0000ff"><b>my</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>,<font color="#1f32ff">$table</font><font color="#0000ff"><b>)</b></font>=<font color="#1f32ff">@_</font>;
<font color="#1f32ff">$table</font>=<font color="#4169e1"><b>lc</b></font><font color="#0000ff"><b>(</b></font><font color="#1f32ff">$table</font><font color="#0000ff"><b>)</b></font>;
<font color="#4169e1"><b>die</b></font> <font color="#007400">"Table name should be provided"</font> <font color="#0000ff"><b>unless</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$table</font><font color="#0000ff"><b>)</b></font>;
<font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$to</font>=<font color="#1f32ff">$self</font>-&gt;<font color="#ff8204">prepare</font><font color="#0000ff"><b>(</b></font><font color="#007400">"desc <font color="#1f32ff">$table</font>"</font><font color="#0000ff"><b>)</b></font>||<font color="#4169e1"><b>die</b></font>;
<font color="#1f32ff">$to</font>-&gt;execute||die;
<font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$dat</font>=<font color="#1f32ff">$to</font>-&gt;fetchall_arrayref;
<font color="#0000ff"><b>my</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">@col</font>,<font color="#1f32ff">%restr</font><font color="#0000ff"><b>)</b></font>;
<font color="#0000ff"><b>for</b></font> <font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$row</font> <font color="#0000ff"><b>(</b></font>@$dat<font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font>
	<font color="#0000ff"><b>next</b></font> <font color="#0000ff"><b>if</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$row</font>-&gt;<font color="#0000ff"><b>[</b></font>3<font color="#0000ff"><b>]</b></font> <font color="#0000ff"><b>eq</b></font> <font color="#007400">'PRI'</font><font color="#0000ff"><b>)</b></font>;
	<font color="#0000ff"><b>next</b></font> <font color="#0000ff"><b>if</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$row</font>-&gt;<font color="#0000ff"><b>[</b></font>1<font color="#0000ff"><b>]</b></font> =~ <font color="#006400"><b>/timestamp/</b></font><font color="#0000ff"><b>)</b></font>;
	<font color="#0000ff"><b>if</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$row</font>-&gt;<font color="#0000ff"><b>[</b></font>1<font color="#0000ff"><b>]</b></font>=~<font color="#006400"><b>/^enum/</b></font><font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>{</b></font>
		<font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$fields</font>=<font color="#4169e1"><b>substr</b></font><font color="#0000ff"><b>(</b></font><font color="#1f32ff">$row</font>-&gt;<font color="#0000ff"><b>[</b></font>1<font color="#0000ff"><b>]</b></font>,<font color="#0000ff"><b>(</b></font><font color="#4169e1"><b>index</b></font><font color="#0000ff"><b>(</b></font><font color="#1f32ff">$row</font>-&gt;<font color="#0000ff"><b>[</b></font>1<font color="#0000ff"><b>]</b></font>,<font color="#007400">'('</font><font color="#0000ff"><b>)</b></font>+1<font color="#0000ff"><b>)</b></font>,-1<font color="#0000ff"><b>)</b></font>;
		<font color="#1f32ff">$fields</font>=~s<font color="#006400"><b>/'/</b></font>/g;<BR>		<font color="#0000ff"><b>my</b></font> <font color="#1f32ff">@opt</font>=<font color="#4169e1"><b>split</b></font><font color="#0000ff"><b>(</b></font><font color="#006400"><b>/,/</b></font>,<font color="#1f32ff">$fields</font><font color="#0000ff"><b>)</b></font>;
		<font color="#1f32ff">$restr</font><font color="#0000ff"><b>{</b></font><font color="#1f32ff">$row</font>-&gt;<font color="#0000ff"><b>[</b></font>0<font color="#0000ff"><b>]</b></font><font color="#0000ff"><b>}</b></font>=\<font color="#1f32ff">@opt</font>;
	<font color="#0000ff"><b>}</b></font>
	<font color="#4169e1"><b>push</b></font> <font color="#1f32ff">@col</font>,<font color="#4169e1"><b>lc</b></font><font color="#0000ff"><b>(</b></font><font color="#1f32ff">$row</font>-&gt;<font color="#0000ff"><b>[</b></font>0<font color="#0000ff"><b>]</b></font><font color="#0000ff"><b>)</b></font> <font color="#0000ff"><b>unless</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$row</font>-&gt;<font color="#0000ff"><b>[</b></font>0<font color="#0000ff"><b>]</b></font> <font color="#0000ff"><b>eq</b></font> <font color="#007400">'project_id'</font><font color="#0000ff"><b>)</b></font>;
<font color="#0000ff"><b>}</b></font>
<font color="#0000ff"><b>return</b></font>\@ col,\<font color="#1f32ff">%restr</font>;</pre>}<BR>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0">
<TR BGCOLOR="#dcab68"><TD WIDTH="200"><A NAME="CODE29"></A><B>talk_init</B></TD><TD><A HREF="#POD20">description</A></TD><TD WIDTH="30"><A HREF="#TOP">top</A></TD><TD WIDTH="30"><A HREF="#CODE28">prev</A></TD><TD WIDTH="30"><A HREF="#CODE30">next</A></TD></TR></TABLE>
<font color="#0000ff"><b>sub</b></font> <font color="#ff0000"><b>talk_init</b></font>
 {<pre><font color="#0000ff"><b>my</b></font> <font color="#0000ff"><b>(</b></font><font color="#1f32ff">$self</font>,<font color="#1f32ff">%params</font><font color="#0000ff"><b>)</b></font>=<font color="#1f32ff">@_</font>;
<font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>talkdb<font color="#0000ff"><b>}</b></font>=<A HREF="regdb/talk.html"><font color="#8000ff"><b>regdb::talk</b></font></A>-&gt;<font color="#0000ff"><b>new</b></font><font color="#0000ff"><b>(</b></font><font color="#1f32ff">%params</font><font color="#0000ff"><b>)</b></font>;
<font color="#0000ff"><b>return</b></font> <font color="#1f32ff">$self</font>;</pre>}<BR>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0">
<TR BGCOLOR="#dcab68"><TD WIDTH="200"><A NAME="CODE30"></A><B>talkto</B></TD><TD><A HREF="#POD21">description</A></TD><TD WIDTH="30"><A HREF="#TOP">top</A></TD><TD WIDTH="30"><A HREF="#CODE29">prev</A></TD><TD WIDTH="30">next</TD></TR></TABLE>
<font color="#0000ff"><b>sub</b></font> <font color="#ff0000"><b>talkto</b></font>
 {<pre>    <font color="#0000ff"><b>my</b></font> <font color="#1f32ff">$self</font>=<font color="#4169e1"><b>shift</b></font>;
    <font color="#0000ff"><b>return</b></font> <font color="#1f32ff">$self</font>-&gt;<font color="#0000ff"><b>{</b></font>talkdb<font color="#0000ff"><b>}</b></font>;</pre>}<BR>
<A NAME="General"></A>
<HR><H2>General documentation</H2>
<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0">
</TABLE>
<B>No general documentation available.</B><BR>
</body>
</html>
